# generated by datamodel-codegen:
#   filename:  openapi.yaml
#   timestamp: 2021-12-31T02:51:05+00:00

from __future__ import annotations

from datetime import datetime
from enum import Enum
from typing import Annotated, Any, List, Optional

from pydantic import BaseModel, Field


class AssociateEntityToThingResponse(BaseModel):
    pass


class InvalidRequestException(BaseModel):
    __root__: Any


class ResourceNotFoundException(InvalidRequestException):
    pass


class InternalFailureException(InvalidRequestException):
    pass


class ThrottlingException(InvalidRequestException):
    pass


class ResourceAlreadyExistsException(InvalidRequestException):
    pass


class LimitExceededException(InvalidRequestException):
    pass


class DeleteFlowTemplateResponse(AssociateEntityToThingResponse):
    pass


class ResourceInUseException(InvalidRequestException):
    pass


class DeleteNamespaceRequest(BaseModel):
    pass


class DeleteSystemInstanceResponse(AssociateEntityToThingResponse):
    pass


class DeleteSystemTemplateResponse(AssociateEntityToThingResponse):
    pass


class DeprecateFlowTemplateResponse(AssociateEntityToThingResponse):
    pass


class DeprecateSystemTemplateResponse(AssociateEntityToThingResponse):
    pass


class DissociateEntityFromThingResponse(AssociateEntityToThingResponse):
    pass


class GetNamespaceDeletionStatusRequest(BaseModel):
    pass


class TagResourceResponse(AssociateEntityToThingResponse):
    pass


class UntagResourceResponse(AssociateEntityToThingResponse):
    pass


class Arn(BaseModel):
    __root__: str


class ThingName(BaseModel):
    __root__: Annotated[
        str, Field(max_length=128, min_length=1, regex='[a-zA-Z0-9:_-]+')
    ]


class Urn(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=160,
            regex='^urn:tdm:(([a-z]{2}-(gov-)?[a-z]{4,9}-[0-9]{1,3}/[0-9]+/)*[\\p{Alnum}_]+(/[\\p{Alnum}_]+)*):([\\p{Alpha}]*):([\\p{Alnum}_]+(/[\\p{Alnum}_]+)*)$',
        ),
    ]


class Version(BaseModel):
    __root__: int


class DeploymentTarget(Enum):
    GREENGRASS = 'GREENGRASS'
    CLOUD = 'CLOUD'


class GroupName(Arn):
    pass


class S3BucketName(Arn):
    pass


class RoleArn(BaseModel):
    __root__: Annotated[str, Field(max_length=2048, min_length=20)]


class DefinitionLanguage(Enum):
    GRAPHQL = 'GRAPHQL'


class DefinitionText(BaseModel):
    __root__: Annotated[str, Field(max_length=1048576)]


class NamespaceName(BaseModel):
    __root__: Annotated[str, Field(max_length=128)]


class DependencyRevision(BaseModel):
    """
    An object that contains the ID and revision number of a workflow or system that is part of a deployment.
    """

    id: Optional[Urn] = None
    revisionNumber: Optional[Version] = None


class DependencyRevisions(BaseModel):
    __root__: List[DependencyRevision]


class GreengrassDeploymentId(Arn):
    pass


class DeprecateExistingEntities(BaseModel):
    __root__: bool


class EntityType(Enum):
    DEVICE = 'DEVICE'
    SERVICE = 'SERVICE'
    DEVICE_MODEL = 'DEVICE_MODEL'
    CAPABILITY = 'CAPABILITY'
    STATE = 'STATE'
    ACTION = 'ACTION'
    EVENT = 'EVENT'
    PROPERTY = 'PROPERTY'
    MAPPING = 'MAPPING'
    ENUM = 'ENUM'


class Enabled(DeprecateExistingEntities):
    pass


class Timestamp(BaseModel):
    __root__: datetime


class EntityFilterName(Enum):
    NAME = 'NAME'
    NAMESPACE = 'NAMESPACE'
    SEMANTIC_TYPE_PATH = 'SEMANTIC_TYPE_PATH'
    REFERENCED_ENTITY_ID = 'REFERENCED_ENTITY_ID'


class EntityFilterValue(Arn):
    pass


class EntityTypes(BaseModel):
    __root__: List[EntityType]


class FlowExecutionEventType(Enum):
    EXECUTION_STARTED = 'EXECUTION_STARTED'
    EXECUTION_FAILED = 'EXECUTION_FAILED'
    EXECUTION_ABORTED = 'EXECUTION_ABORTED'
    EXECUTION_SUCCEEDED = 'EXECUTION_SUCCEEDED'
    STEP_STARTED = 'STEP_STARTED'
    STEP_FAILED = 'STEP_FAILED'
    STEP_SUCCEEDED = 'STEP_SUCCEEDED'
    ACTIVITY_SCHEDULED = 'ACTIVITY_SCHEDULED'
    ACTIVITY_STARTED = 'ACTIVITY_STARTED'
    ACTIVITY_FAILED = 'ACTIVITY_FAILED'
    ACTIVITY_SUCCEEDED = 'ACTIVITY_SUCCEEDED'
    START_FLOW_EXECUTION_TASK = 'START_FLOW_EXECUTION_TASK'
    SCHEDULE_NEXT_READY_STEPS_TASK = 'SCHEDULE_NEXT_READY_STEPS_TASK'
    THING_ACTION_TASK = 'THING_ACTION_TASK'
    THING_ACTION_TASK_FAILED = 'THING_ACTION_TASK_FAILED'
    THING_ACTION_TASK_SUCCEEDED = 'THING_ACTION_TASK_SUCCEEDED'
    ACKNOWLEDGE_TASK_MESSAGE = 'ACKNOWLEDGE_TASK_MESSAGE'


class FlowExecutionId(Arn):
    pass


class FlowExecutionMessageId(Arn):
    pass


class FlowExecutionMessagePayload(Arn):
    pass


class FlowExecutionMessage(BaseModel):
    """
    An object that contains information about a flow event.
    """

    messageId: Optional[FlowExecutionMessageId] = None
    eventType: Optional[FlowExecutionEventType] = None
    timestamp: Optional[Timestamp] = None
    payload: Optional[FlowExecutionMessagePayload] = None


class FlowExecutionMessages(BaseModel):
    __root__: List[FlowExecutionMessage]


class FlowExecutionStatus(Enum):
    RUNNING = 'RUNNING'
    ABORTED = 'ABORTED'
    SUCCEEDED = 'SUCCEEDED'
    FAILED = 'FAILED'


class FlowExecutionSummary(BaseModel):
    """
    An object that contains summary information about a flow execution.
    """

    flowExecutionId: Optional[FlowExecutionId] = None
    status: Optional[FlowExecutionStatus] = None
    systemInstanceId: Optional[Urn] = None
    flowTemplateId: Optional[Urn] = None
    createdAt: Optional[Timestamp] = None
    updatedAt: Optional[Timestamp] = None


class FlowExecutionSummaries(BaseModel):
    __root__: List[FlowExecutionSummary]


class FlowTemplateFilterName(Enum):
    DEVICE_MODEL_ID = 'DEVICE_MODEL_ID'


class FlowTemplateFilterValue(BaseModel):
    __root__: Annotated[
        str,
        Field(
            regex='^urn:tdm:(([a-z]{2}-(gov-)?[a-z]{4,9}-[0-9]{1,3}/[0-9]+/)*[\\p{Alnum}_]+(/[\\p{Alnum}_]+)*):([\\p{Alpha}]*):([\\p{Alnum}_]+(/[\\p{Alnum}_]+)*)$'
        ),
    ]


class Urns(BaseModel):
    __root__: Annotated[List[Urn], Field(max_items=25, min_items=0)]


class NextToken(Arn):
    pass


class MaxResults(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=250.0)]


class NamespaceDeletionStatus(Enum):
    IN_PROGRESS = 'IN_PROGRESS'
    SUCCEEDED = 'SUCCEEDED'
    FAILED = 'FAILED'


class NamespaceDeletionStatusErrorCodes(Enum):
    VALIDATION_FAILED = 'VALIDATION_FAILED'


class String(Arn):
    pass


class UploadId(BaseModel):
    __root__: Annotated[str, Field(max_length=40, min_length=1)]


class StringList(BaseModel):
    __root__: List[String]


class GreengrassGroupId(Arn):
    pass


class GreengrassGroupVersionId(Arn):
    pass


class ResourceArn(BaseModel):
    __root__: Annotated[str, Field(max_length=2048, min_length=1)]


class SyncWithPublicNamespace(DeprecateExistingEntities):
    pass


class SystemInstanceDeploymentStatus(Enum):
    NOT_DEPLOYED = 'NOT_DEPLOYED'
    BOOTSTRAP = 'BOOTSTRAP'
    DEPLOY_IN_PROGRESS = 'DEPLOY_IN_PROGRESS'
    DEPLOYED_IN_TARGET = 'DEPLOYED_IN_TARGET'
    UNDEPLOY_IN_PROGRESS = 'UNDEPLOY_IN_PROGRESS'
    FAILED = 'FAILED'
    PENDING_DELETE = 'PENDING_DELETE'
    DELETED_IN_TARGET = 'DELETED_IN_TARGET'


class SystemInstanceFilterName(Enum):
    SYSTEM_TEMPLATE_ID = 'SYSTEM_TEMPLATE_ID'
    STATUS = 'STATUS'
    GREENGRASS_GROUP_NAME = 'GREENGRASS_GROUP_NAME'


class SystemInstanceFilterValue(Arn):
    pass


class SystemTemplateFilterName(Enum):
    FLOW_TEMPLATE_ID = 'FLOW_TEMPLATE_ID'


class SystemTemplateFilterValue(FlowTemplateFilterValue):
    pass


class TagKey(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=128, min_length=1, regex='^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'
        ),
    ]


class TagValue(BaseModel):
    __root__: Annotated[str, Field(max_length=256, min_length=1)]


class Tag(BaseModel):
    """
    Metadata assigned to an AWS IoT Things Graph resource consisting of a key-value pair.
    """

    key: TagKey
    value: TagValue


class TagKeyList(BaseModel):
    __root__: Annotated[List[TagKey], Field(max_items=50, min_items=1)]


class ThingArn(Arn):
    pass


class Thing(BaseModel):
    """
    An AWS IoT thing.
    """

    thingArn: Optional[ThingArn] = None
    thingName: Optional[ThingName] = None


class AssociateEntityToThingRequest(BaseModel):
    thingName: ThingName
    entityId: Urn
    namespaceVersion: Optional[Version] = None


class DeleteFlowTemplateRequest(BaseModel):
    id: Urn


class DeleteNamespaceResponse(BaseModel):
    namespaceArn: Optional[Arn] = None
    namespaceName: Optional[NamespaceName] = None


class DeleteSystemInstanceRequest(BaseModel):
    id: Optional[Urn] = None


class DeleteSystemTemplateRequest(BaseModel):
    id: Urn


class DeploySystemInstanceRequest(BaseModel):
    id: Optional[Urn] = None


class DeprecateFlowTemplateRequest(BaseModel):
    id: Urn


class DeprecateSystemTemplateRequest(BaseModel):
    id: Urn


class DescribeNamespaceResponse(BaseModel):
    namespaceArn: Optional[Arn] = None
    namespaceName: Optional[NamespaceName] = None
    trackingNamespaceName: Optional[NamespaceName] = None
    trackingNamespaceVersion: Optional[Version] = None
    namespaceVersion: Optional[Version] = None


class DescribeNamespaceRequest(BaseModel):
    namespaceName: Optional[NamespaceName] = None


class DissociateEntityFromThingRequest(BaseModel):
    thingName: ThingName
    entityType: EntityType


class GetEntitiesRequest(BaseModel):
    ids: Urns
    namespaceVersion: Optional[Version] = None


class GetFlowTemplateRequest(BaseModel):
    id: Urn
    revisionNumber: Optional[Version] = None


class GetFlowTemplateRevisionsRequest(BaseModel):
    id: Urn
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None


class GetNamespaceDeletionStatusResponse(BaseModel):
    namespaceArn: Optional[Arn] = None
    namespaceName: Optional[NamespaceName] = None
    status: Optional[NamespaceDeletionStatus] = None
    errorCode: Optional[NamespaceDeletionStatusErrorCodes] = None
    errorMessage: Optional[String] = None


class GetSystemInstanceRequest(BaseModel):
    id: Urn


class GetSystemTemplateRequest(BaseModel):
    id: Urn
    revisionNumber: Optional[Version] = None


class GetSystemTemplateRevisionsRequest(BaseModel):
    id: Urn
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None


class GetUploadStatusResponse(BaseModel):
    uploadId: UploadId
    uploadStatus: NamespaceDeletionStatus
    namespaceArn: Optional[Arn] = None
    namespaceName: Optional[NamespaceName] = None
    namespaceVersion: Optional[Version] = None
    failureReason: Optional[StringList] = None
    createdDate: Timestamp


class GetUploadStatusRequest(BaseModel):
    uploadId: UploadId


class ListFlowExecutionMessagesResponse(BaseModel):
    messages: Optional[FlowExecutionMessages] = None
    nextToken: Optional[NextToken] = None


class ListFlowExecutionMessagesRequest(BaseModel):
    flowExecutionId: FlowExecutionId
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None


class ListTagsForResourceRequest(BaseModel):
    maxResults: Optional[MaxResults] = None
    resourceArn: ResourceArn
    nextToken: Optional[NextToken] = None


class SearchFlowExecutionsResponse(BaseModel):
    summaries: Optional[FlowExecutionSummaries] = None
    nextToken: Optional[NextToken] = None


class SearchFlowExecutionsRequest(BaseModel):
    systemInstanceId: Urn
    flowExecutionId: Optional[FlowExecutionId] = None
    startTime: Optional[Timestamp] = None
    endTime: Optional[Timestamp] = None
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None


class SearchThingsRequest(BaseModel):
    entityId: Urn
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None
    namespaceVersion: Optional[Version] = None


class UndeploySystemInstanceRequest(BaseModel):
    id: Optional[Urn] = None


class UntagResourceRequest(BaseModel):
    resourceArn: ResourceArn
    tagKeys: TagKeyList


class UploadEntityDefinitionsResponse(BaseModel):
    uploadId: UploadId


class DefinitionDocument(BaseModel):
    """
    A document that defines an entity.
    """

    language: DefinitionLanguage
    text: DefinitionText


class FlowTemplateSummary(BaseModel):
    """
    An object that contains summary information about a workflow.
    """

    id: Optional[Urn] = None
    arn: Optional[Arn] = None
    revisionNumber: Optional[Version] = None
    createdAt: Optional[Timestamp] = None


class TagList(BaseModel):
    __root__: Annotated[List[Tag], Field(max_items=50, min_items=0)]


class MetricsConfiguration(BaseModel):
    """
    An object that specifies whether cloud metrics are collected in a deployment and, if so, what role is used to collect metrics.
    """

    cloudMetricEnabled: Optional[Enabled] = None
    metricRuleRoleArn: Optional[RoleArn] = None


class SystemInstanceSummary(BaseModel):
    """
    An object that contains summary information about a system instance.
    """

    id: Optional[Urn] = None
    arn: Optional[Arn] = None
    status: Optional[SystemInstanceDeploymentStatus] = None
    target: Optional[DeploymentTarget] = None
    greengrassGroupName: Optional[GroupName] = None
    createdAt: Optional[Timestamp] = None
    updatedAt: Optional[Timestamp] = None
    greengrassGroupId: Optional[GreengrassGroupId] = None
    greengrassGroupVersionId: Optional[GreengrassGroupVersionId] = None


class SystemTemplateSummary(FlowTemplateSummary):
    """
    An object that contains information about a system.
    """

    pass


class EntityDescription(BaseModel):
    """
    Describes the properties of an entity.
    """

    id: Optional[Urn] = None
    arn: Optional[Arn] = None
    type: Optional[EntityType] = None
    createdAt: Optional[Timestamp] = None
    definition: Optional[DefinitionDocument] = None


class EntityDescriptions(BaseModel):
    __root__: List[EntityDescription]


class EntityFilterValues(BaseModel):
    __root__: List[EntityFilterValue]


class EntityFilter(BaseModel):
    """
    An object that filters an entity search. Multiple filters function as OR criteria in the search. For example a search that includes a <code>NAMESPACE</code> and a <code>REFERENCED_ENTITY_ID</code> filter searches for entities in the specified namespace that use the entity specified by the value of <code>REFERENCED_ENTITY_ID</code>.
    """

    name: Optional[EntityFilterName] = None
    value: Optional[EntityFilterValues] = None


class EntityFilters(BaseModel):
    __root__: List[EntityFilter]


class FlowTemplateDescription(BaseModel):
    """
    An object that contains a workflow's definition and summary information.
    """

    summary: Optional[FlowTemplateSummary] = None
    definition: Optional[DefinitionDocument] = None
    validatedNamespaceVersion: Optional[Version] = None


class FlowTemplateFilterValues(BaseModel):
    __root__: List[FlowTemplateFilterValue]


class FlowTemplateFilter(BaseModel):
    """
    An object that filters a workflow search.
    """

    name: FlowTemplateFilterName
    value: FlowTemplateFilterValues


class FlowTemplateFilters(BaseModel):
    __root__: List[FlowTemplateFilter]


class FlowTemplateSummaries(BaseModel):
    __root__: List[FlowTemplateSummary]


class SystemInstanceDescription(BaseModel):
    """
    An object that contains a system instance definition and summary information.
    """

    summary: Optional[SystemInstanceSummary] = None
    definition: Optional[DefinitionDocument] = None
    s3BucketName: Optional[S3BucketName] = None
    metricsConfiguration: Optional[MetricsConfiguration] = None
    validatedNamespaceVersion: Optional[Version] = None
    validatedDependencyRevisions: Optional[DependencyRevisions] = None
    flowActionsRoleArn: Optional[RoleArn] = None


class SystemTemplateDescription(BaseModel):
    """
    An object that contains a system's definition document and summary information.
    """

    summary: Optional[SystemTemplateSummary] = None
    definition: Optional[DefinitionDocument] = None
    validatedNamespaceVersion: Optional[Version] = None


class SystemTemplateSummaries(BaseModel):
    __root__: List[SystemTemplateSummary]


class SystemInstanceSummaries(BaseModel):
    __root__: List[SystemInstanceSummary]


class Things(BaseModel):
    __root__: List[Thing]


class SystemInstanceFilterValues(BaseModel):
    __root__: List[SystemInstanceFilterValue]


class SystemInstanceFilter(BaseModel):
    """
    An object that filters a system instance search. Multiple filters function as OR criteria in the search. For example a search that includes a GREENGRASS_GROUP_NAME and a STATUS filter searches for system instances in the specified Greengrass group that have the specified status.
    """

    name: Optional[SystemInstanceFilterName] = None
    value: Optional[SystemInstanceFilterValues] = None


class SystemTemplateFilterValues(BaseModel):
    __root__: List[SystemTemplateFilterValue]


class SystemTemplateFilter(BaseModel):
    """
    An object that filters a system search.
    """

    name: SystemTemplateFilterName
    value: SystemTemplateFilterValues


class CreateFlowTemplateResponse(BaseModel):
    summary: Optional[FlowTemplateSummary] = None


class CreateFlowTemplateRequest(BaseModel):
    definition: DefinitionDocument
    compatibleNamespaceVersion: Optional[Version] = None


class CreateSystemInstanceResponse(BaseModel):
    summary: Optional[SystemInstanceSummary] = None


class CreateSystemInstanceRequest(BaseModel):
    tags: Optional[TagList] = None
    definition: DefinitionDocument
    target: DeploymentTarget
    greengrassGroupName: Optional[GroupName] = None
    s3BucketName: Optional[S3BucketName] = None
    metricsConfiguration: Optional[MetricsConfiguration] = None
    flowActionsRoleArn: Optional[RoleArn] = None


class CreateSystemTemplateResponse(BaseModel):
    summary: Optional[SystemTemplateSummary] = None


class CreateSystemTemplateRequest(BaseModel):
    definition: DefinitionDocument
    compatibleNamespaceVersion: Optional[Version] = None


class DeploySystemInstanceResponse(BaseModel):
    summary: SystemInstanceSummary
    greengrassDeploymentId: Optional[GreengrassDeploymentId] = None


class GetEntitiesResponse(BaseModel):
    descriptions: Optional[EntityDescriptions] = None


class GetFlowTemplateResponse(BaseModel):
    description: Optional[FlowTemplateDescription] = None


class GetFlowTemplateRevisionsResponse(BaseModel):
    summaries: Optional[FlowTemplateSummaries] = None
    nextToken: Optional[NextToken] = None


class GetSystemInstanceResponse(BaseModel):
    description: Optional[SystemInstanceDescription] = None


class GetSystemTemplateResponse(BaseModel):
    description: Optional[SystemTemplateDescription] = None


class GetSystemTemplateRevisionsResponse(BaseModel):
    summaries: Optional[SystemTemplateSummaries] = None
    nextToken: Optional[NextToken] = None


class ListTagsForResourceResponse(BaseModel):
    tags: Optional[TagList] = None
    nextToken: Optional[NextToken] = None


class SearchEntitiesResponse(BaseModel):
    descriptions: Optional[EntityDescriptions] = None
    nextToken: Optional[NextToken] = None


class SearchEntitiesRequest(BaseModel):
    entityTypes: EntityTypes
    filters: Optional[EntityFilters] = None
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None
    namespaceVersion: Optional[Version] = None


class SearchFlowTemplatesResponse(GetFlowTemplateRevisionsResponse):
    pass


class SearchFlowTemplatesRequest(BaseModel):
    filters: Optional[FlowTemplateFilters] = None
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None


class SearchSystemInstancesResponse(BaseModel):
    summaries: Optional[SystemInstanceSummaries] = None
    nextToken: Optional[NextToken] = None


class SearchSystemTemplatesResponse(GetSystemTemplateRevisionsResponse):
    pass


class SearchThingsResponse(BaseModel):
    things: Optional[Things] = None
    nextToken: Optional[NextToken] = None


class TagResourceRequest(BaseModel):
    resourceArn: ResourceArn
    tags: TagList


class UndeploySystemInstanceResponse(CreateSystemInstanceResponse):
    pass


class UpdateFlowTemplateResponse(CreateFlowTemplateResponse):
    pass


class UpdateFlowTemplateRequest(BaseModel):
    id: Urn
    definition: DefinitionDocument
    compatibleNamespaceVersion: Optional[Version] = None


class UpdateSystemTemplateResponse(CreateSystemTemplateResponse):
    pass


class UpdateSystemTemplateRequest(BaseModel):
    id: Urn
    definition: DefinitionDocument
    compatibleNamespaceVersion: Optional[Version] = None


class UploadEntityDefinitionsRequest(BaseModel):
    document: Optional[DefinitionDocument] = None
    syncWithPublicNamespace: Optional[SyncWithPublicNamespace] = None
    deprecateExistingEntities: Optional[DeprecateExistingEntities] = None


class SystemInstanceFilters(BaseModel):
    __root__: List[SystemInstanceFilter]


class SystemTemplateFilters(BaseModel):
    __root__: List[SystemTemplateFilter]


class SearchSystemInstancesRequest(BaseModel):
    filters: Optional[SystemInstanceFilters] = None
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None


class SearchSystemTemplatesRequest(BaseModel):
    filters: Optional[SystemTemplateFilters] = None
    nextToken: Optional[NextToken] = None
    maxResults: Optional[MaxResults] = None
