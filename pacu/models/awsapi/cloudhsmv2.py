# generated by datamodel-codegen:
#   filename:  openapi.yaml
#   timestamp: 2021-12-31T02:46:11+00:00

from __future__ import annotations

from datetime import datetime
from enum import Enum
from typing import Annotated, Any, List, Optional

from pydantic import BaseModel, Extra, Field


class CloudHsmAccessDeniedException(BaseModel):
    __root__: Any


class CloudHsmInternalFailureException(CloudHsmAccessDeniedException):
    pass


class CloudHsmInvalidRequestException(CloudHsmAccessDeniedException):
    pass


class CloudHsmResourceNotFoundException(CloudHsmAccessDeniedException):
    pass


class CloudHsmServiceException(CloudHsmAccessDeniedException):
    pass


class CloudHsmTagException(CloudHsmAccessDeniedException):
    pass


class TagResourceResponse(BaseModel):
    pass


class UntagResourceResponse(TagResourceResponse):
    pass


class BackupId(BaseModel):
    __root__: Annotated[str, Field(regex='backup-[2-7a-zA-Z]{11,16}')]


class BackupState(Enum):
    CREATE_IN_PROGRESS = 'CREATE_IN_PROGRESS'
    READY = 'READY'
    DELETED = 'DELETED'
    PENDING_DELETION = 'PENDING_DELETION'


class ClusterId(BaseModel):
    __root__: Annotated[str, Field(regex='cluster-[2-7a-zA-Z]{11,16}')]


class Timestamp(BaseModel):
    __root__: datetime


class Boolean(BaseModel):
    __root__: bool


class Region(BaseModel):
    __root__: Annotated[
        str, Field(regex='[a-z]{2}(-(gov))?-(east|west|north|south|central){1,2}-\\d')
    ]


class BackupPolicy(Enum):
    DEFAULT = 'DEFAULT'


class BackupRetentionType(Enum):
    DAYS = 'DAYS'


class BackupRetentionValue(BaseModel):
    __root__: Annotated[str, Field(max_length=3, min_length=1, regex='[0-9]+')]


class BackupRetentionPolicy(BaseModel):
    """
    A policy that defines the number of days to retain backups.
    """

    Type: Optional[BackupRetentionType] = None
    Value: Optional[BackupRetentionValue] = None


class BackupsMaxSize(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=50.0)]


class Cert(BaseModel):
    __root__: Annotated[str, Field(max_length=5000, regex='[a-zA-Z0-9+-/=\\s]*')]


class Certificates(BaseModel):
    """
    Contains one or more certificates or a certificate signing request (CSR).
    """

    ClusterCsr: Optional[Cert] = None
    HsmCertificate: Optional[Cert] = None
    AwsHardwareCertificate: Optional[Cert] = None
    ManufacturerHardwareCertificate: Optional[Cert] = None
    ClusterCertificate: Optional[Cert] = None


class HsmType(BaseModel):
    __root__: Annotated[str, Field(regex='(hsm1\\.medium)')]


class PreCoPassword(BaseModel):
    __root__: Annotated[str, Field(max_length=32, min_length=7)]


class SecurityGroup(BaseModel):
    __root__: Annotated[str, Field(regex='sg-[0-9a-fA-F]{8,17}')]


class ClusterState(Enum):
    CREATE_IN_PROGRESS = 'CREATE_IN_PROGRESS'
    UNINITIALIZED = 'UNINITIALIZED'
    INITIALIZE_IN_PROGRESS = 'INITIALIZE_IN_PROGRESS'
    INITIALIZED = 'INITIALIZED'
    ACTIVE = 'ACTIVE'
    UPDATE_IN_PROGRESS = 'UPDATE_IN_PROGRESS'
    DELETE_IN_PROGRESS = 'DELETE_IN_PROGRESS'
    DELETED = 'DELETED'
    DEGRADED = 'DEGRADED'


class StateMessage(BaseModel):
    __root__: Annotated[str, Field(max_length=300, regex='.*')]


class ExternalSubnetMapping(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class VpcId(BaseModel):
    __root__: Annotated[str, Field(regex='vpc-[0-9a-fA-F]')]


class ClustersMaxSize(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=25.0)]


class DestinationBackup(BaseModel):
    """
    Contains information about the backup that will be copied and created by the <a>CopyBackupToRegion</a> operation.
    """

    CreateTimestamp: Optional[Timestamp] = None
    SourceRegion: Optional[Region] = None
    SourceBackup: Optional[BackupId] = None
    SourceCluster: Optional[ClusterId] = None


class ExternalAz(BaseModel):
    __root__: Annotated[
        str,
        Field(regex='[a-z]{2}(-(gov))?-(east|west|north|south|central){1,2}-\\d[a-z]'),
    ]


class IpAddress(BaseModel):
    __root__: Annotated[str, Field(regex='\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}')]


class HsmId(BaseModel):
    __root__: Annotated[str, Field(regex='hsm-[2-7a-zA-Z]{11,16}')]


class EniId(BaseModel):
    __root__: Annotated[str, Field(regex='eni-[0-9a-fA-F]{8,17}')]


class NextToken(BaseModel):
    __root__: Annotated[str, Field(max_length=256, regex='.*')]


class Filters(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class SubnetId(BaseModel):
    __root__: Annotated[str, Field(regex='subnet-[0-9a-fA-F]{8,17}')]


class FieldModel(BaseModel):
    __root__: Annotated[str, Field(regex='[a-zA-Z0-9_-]+')]


class HsmState(Enum):
    CREATE_IN_PROGRESS = 'CREATE_IN_PROGRESS'
    ACTIVE = 'ACTIVE'
    DEGRADED = 'DEGRADED'
    DELETE_IN_PROGRESS = 'DELETE_IN_PROGRESS'
    DELETED = 'DELETED'


class String(BaseModel):
    __root__: str


class ResourceId(BaseModel):
    __root__: Annotated[str, Field(regex='(?:cluster|backup)-[2-7a-zA-Z]{11,16}')]


class MaxSize(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=100.0)]


class TagKey(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=128, min_length=1, regex='^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'
        ),
    ]


class TagValue(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=256, min_length=0, regex='^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'
        ),
    ]


class Tag(BaseModel):
    """
    Contains a tag. A tag is a key-value pair.
    """

    Key: TagKey
    Value: TagValue


class TagKeyList(BaseModel):
    __root__: Annotated[List[TagKey], Field(max_items=50, min_items=1)]


class CopyBackupToRegionResponse(BaseModel):
    DestinationBackup: Optional[DestinationBackup] = None


class CreateHsmRequest(BaseModel):
    ClusterId: ClusterId
    AvailabilityZone: ExternalAz
    IpAddress: Optional[IpAddress] = None


class DeleteBackupRequest(BaseModel):
    BackupId: BackupId


class DeleteClusterRequest(BaseModel):
    ClusterId: ClusterId


class DeleteHsmResponse(BaseModel):
    HsmId: Optional[HsmId] = None


class DeleteHsmRequest(BaseModel):
    ClusterId: ClusterId
    HsmId: Optional[HsmId] = None
    EniId: Optional[EniId] = None
    EniIp: Optional[IpAddress] = None


class DescribeBackupsRequest(BaseModel):
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[BackupsMaxSize] = None
    Filters: Optional[Filters] = None
    SortAscending: Optional[Boolean] = None


class DescribeClustersRequest(BaseModel):
    Filters: Optional[Filters] = None
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[ClustersMaxSize] = None


class InitializeClusterResponse(BaseModel):
    State: Optional[ClusterState] = None
    StateMessage: Optional[StateMessage] = None


class InitializeClusterRequest(BaseModel):
    ClusterId: ClusterId
    SignedCert: Cert
    TrustAnchor: Cert


class ListTagsRequest(BaseModel):
    ResourceId: ResourceId
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[MaxSize] = None


class ModifyBackupAttributesRequest(BaseModel):
    BackupId: BackupId
    NeverExpires: Boolean


class ModifyClusterRequest(BaseModel):
    BackupRetentionPolicy: BackupRetentionPolicy
    ClusterId: ClusterId


class RestoreBackupRequest(BaseModel):
    BackupId: BackupId


class UntagResourceRequest(BaseModel):
    ResourceId: ResourceId
    TagKeyList: TagKeyList


class TagList(BaseModel):
    __root__: Annotated[List[Tag], Field(max_items=50, min_items=1)]


class Backup(BaseModel):
    """
    Contains information about a backup of an AWS CloudHSM cluster. All backup objects contain the <code>BackupId</code>, <code>BackupState</code>, <code>ClusterId</code>, and <code>CreateTimestamp</code> parameters. Backups that were copied into a destination region additionally contain the <code>CopyTimestamp</code>, <code>SourceBackup</code>, <code>SourceCluster</code>, and <code>SourceRegion</code> parameters. A backup that is pending deletion will include the <code>DeleteTimestamp</code> parameter.
    """

    BackupId: BackupId
    BackupState: Optional[BackupState] = None
    ClusterId: Optional[ClusterId] = None
    CreateTimestamp: Optional[Timestamp] = None
    CopyTimestamp: Optional[Timestamp] = None
    NeverExpires: Optional[Boolean] = None
    SourceRegion: Optional[Region] = None
    SourceBackup: Optional[BackupId] = None
    SourceCluster: Optional[ClusterId] = None
    DeleteTimestamp: Optional[Timestamp] = None
    TagList: Optional[TagList] = None


class Backups(BaseModel):
    __root__: List[Backup]


class SubnetIds(BaseModel):
    __root__: Annotated[List[SubnetId], Field(max_items=10, min_items=1)]


class Hsm(BaseModel):
    """
    Contains information about a hardware security module (HSM) in an AWS CloudHSM cluster.
    """

    AvailabilityZone: Optional[ExternalAz] = None
    ClusterId: Optional[ClusterId] = None
    SubnetId: Optional[SubnetId] = None
    EniId: Optional[EniId] = None
    EniIp: Optional[IpAddress] = None
    HsmId: HsmId
    State: Optional[HsmState] = None
    StateMessage: Optional[String] = None


class Strings(BaseModel):
    __root__: List[String]


class CopyBackupToRegionRequest(BaseModel):
    DestinationRegion: Region
    BackupId: BackupId
    TagList: Optional[TagList] = None


class CreateClusterRequest(BaseModel):
    BackupRetentionPolicy: Optional[BackupRetentionPolicy] = None
    HsmType: HsmType
    SourceBackupId: Optional[BackupId] = None
    SubnetIds: SubnetIds
    TagList: Optional[TagList] = None


class CreateHsmResponse(BaseModel):
    Hsm: Optional[Hsm] = None


class DeleteBackupResponse(BaseModel):
    Backup: Optional[Backup] = None


class DescribeBackupsResponse(BaseModel):
    Backups: Optional[Backups] = None
    NextToken: Optional[NextToken] = None


class ListTagsResponse(BaseModel):
    TagList: TagList
    NextToken: Optional[NextToken] = None


class ModifyBackupAttributesResponse(DeleteBackupResponse):
    pass


class RestoreBackupResponse(DeleteBackupResponse):
    pass


class TagResourceRequest(BaseModel):
    ResourceId: ResourceId
    TagList: TagList


class Hsms(BaseModel):
    __root__: List[Hsm]


class Cluster(BaseModel):
    """
    Contains information about an AWS CloudHSM cluster.
    """

    BackupPolicy: Optional[BackupPolicy] = None
    BackupRetentionPolicy: Optional[BackupRetentionPolicy] = None
    ClusterId: Optional[ClusterId] = None
    CreateTimestamp: Optional[Timestamp] = None
    Hsms: Optional[Hsms] = None
    HsmType: Optional[HsmType] = None
    PreCoPassword: Optional[PreCoPassword] = None
    SecurityGroup: Optional[SecurityGroup] = None
    SourceBackupId: Optional[BackupId] = None
    State: Optional[ClusterState] = None
    StateMessage: Optional[StateMessage] = None
    SubnetMapping: Optional[ExternalSubnetMapping] = None
    VpcId: Optional[VpcId] = None
    Certificates: Optional[Certificates] = None
    TagList: Optional[TagList] = None


class Clusters(BaseModel):
    __root__: List[Cluster]


class CreateClusterResponse(BaseModel):
    Cluster: Optional[Cluster] = None


class DeleteClusterResponse(CreateClusterResponse):
    pass


class DescribeClustersResponse(BaseModel):
    Clusters: Optional[Clusters] = None
    NextToken: Optional[NextToken] = None


class ModifyClusterResponse(CreateClusterResponse):
    pass
