# generated by datamodel-codegen:
#   filename:  openapi.yaml
#   timestamp: 2021-12-31T02:59:46+00:00

from __future__ import annotations

from datetime import datetime
from enum import Enum
from typing import Annotated, Any, List, Optional

from pydantic import BaseModel, Extra, Field


class TraceId(BaseModel):
    __root__: Annotated[str, Field(max_length=35, min_length=1)]


class InvalidRequestException(BaseModel):
    __root__: Any


class ThrottledException(InvalidRequestException):
    pass


class NullableBoolean(BaseModel):
    __root__: bool


class RuleName(BaseModel):
    __root__: Annotated[str, Field(max_length=32, min_length=1)]


class String(BaseModel):
    __root__: str


class ResourceARN(BaseModel):
    __root__: Annotated[str, Field(max_length=500)]


class Priority(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=9999.0)]


class FixedRate(BaseModel):
    __root__: Annotated[float, Field(ge=0.0, le=1.0)]


class ReservoirSize(BaseModel):
    __root__: Annotated[int, Field(ge=0.0)]


class ServiceName(BaseModel):
    __root__: Annotated[str, Field(max_length=64)]


class ServiceType(ServiceName):
    pass


class Host(ServiceName):
    pass


class HTTPMethod(BaseModel):
    __root__: Annotated[str, Field(max_length=10)]


class URLPath(BaseModel):
    __root__: Annotated[str, Field(max_length=128)]


class Version(BaseModel):
    __root__: Annotated[int, Field(ge=1.0)]


class AttributeMap(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class RuleLimitExceededException(InvalidRequestException):
    pass


class DeleteGroupResult(BaseModel):
    pass


class InsightState(Enum):
    ACTIVE = 'ACTIVE'
    CLOSED = 'CLOSED'


class SamplingStrategyName(Enum):
    PartialScan = 'PartialScan'
    FixedRate = 'FixedRate'


class NullableDouble(BaseModel):
    __root__: float


class ResourceNotFoundException(InvalidRequestException):
    pass


class PutTelemetryRecordsResult(DeleteGroupResult):
    pass


class TraceSegmentDocument(String):
    pass


class TagResourceResponse(DeleteGroupResult):
    pass


class TooManyTagsException(InvalidRequestException):
    pass


class UntagResourceResponse(DeleteGroupResult):
    pass


class TagKey(BaseModel):
    __root__: Annotated[str, Field(max_length=128, min_length=1)]


class NullableInteger(BaseModel):
    __root__: int


class AliasNames(BaseModel):
    __root__: List[String]


class Alias(BaseModel):
    """
    An alias for an edge.
    """

    Name: Optional[String] = None
    Names: Optional[AliasNames] = None
    Type: Optional[String] = None


class AliasList(BaseModel):
    __root__: List[Alias]


class AmazonResourceName(BaseModel):
    __root__: Annotated[str, Field(max_length=1011, min_length=1)]


class AnnotationKey(String):
    pass


class AnnotationValue(BaseModel):
    """
    Value of a segment annotation. Has one of three value types: Number, Boolean, or String.
    """

    NumberValue: Optional[NullableDouble] = None
    BooleanValue: Optional[NullableBoolean] = None
    StringValue: Optional[String] = None


class Annotations(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class AttributeKey(RuleName):
    pass


class AttributeValue(RuleName):
    pass


class AvailabilityZoneDetail(BaseModel):
    """
    A list of Availability Zones corresponding to the segments in a trace.
    """

    Name: Optional[String] = None


class BackendConnectionErrors(BaseModel):
    """
    <p/>
    """

    TimeoutCount: Optional[NullableInteger] = None
    ConnectionRefusedCount: Optional[NullableInteger] = None
    HTTPCode4XXCount: Optional[NullableInteger] = None
    HTTPCode5XXCount: Optional[NullableInteger] = None
    UnknownHostCount: Optional[NullableInteger] = None
    OtherCount: Optional[NullableInteger] = None


class TraceIdList(BaseModel):
    __root__: List[TraceId]


class BatchGetTracesRequest(BaseModel):
    TraceIds: TraceIdList
    NextToken: Optional[String] = None


class UnprocessedTraceIdList(TraceIdList):
    pass


class Boolean(NullableBoolean):
    pass


class BorrowCount(ReservoirSize):
    pass


class ClientID(BaseModel):
    __root__: Annotated[str, Field(max_length=24, min_length=24)]


class GroupName(RuleName):
    pass


class FilterExpression(String):
    pass


class InsightsConfiguration(BaseModel):
    """
    The structure containing configurations related to insights.
    """

    InsightsEnabled: Optional[NullableBoolean] = None
    NotificationsEnabled: Optional[NullableBoolean] = None


class Group(BaseModel):
    """
    Details and metadata for a group.
    """

    GroupName: Optional[String] = None
    GroupARN: Optional[String] = None
    FilterExpression: Optional[String] = None
    InsightsConfiguration: Optional[InsightsConfiguration] = None


class SamplingRule(BaseModel):
    """
    A sampling rule that services use to decide whether to instrument a request. Rule fields can match properties of the service, or properties of a request. The service can ignore rules that don't match its properties.
    """

    RuleName: Optional[RuleName] = None
    RuleARN: Optional[String] = None
    ResourceARN: ResourceARN
    Priority: Priority
    FixedRate: FixedRate
    ReservoirSize: ReservoirSize
    ServiceName: ServiceName
    ServiceType: ServiceType
    Host: Host
    HTTPMethod: HTTPMethod
    URLPath: URLPath
    Version: Version
    Attributes: Optional[AttributeMap] = None


class GroupARN1(BaseModel):
    __root__: Annotated[str, Field(max_length=400, min_length=1)]


class DeleteGroupRequest(BaseModel):
    GroupName: Optional[GroupName] = None
    GroupARN: Optional[GroupARN1] = None


class DeleteSamplingRuleRequest(BaseModel):
    RuleName: Optional[String] = None
    RuleARN: Optional[String] = None


class Double(NullableDouble):
    pass


class EC2InstanceId(BaseModel):
    __root__: Annotated[str, Field(max_length=20)]


class Timestamp(BaseModel):
    __root__: datetime


class NullableLong(NullableInteger):
    pass


class ErrorStatistics(BaseModel):
    """
    Information about requests that failed with a 4xx Client Error status code.
    """

    ThrottleCount: Optional[NullableLong] = None
    OtherCount: Optional[NullableLong] = None
    TotalCount: Optional[NullableLong] = None


class FaultStatistics(BaseModel):
    """
    Information about requests that failed with a 5xx Server Error status code.
    """

    OtherCount: Optional[NullableLong] = None
    TotalCount: Optional[NullableLong] = None


class EncryptionStatus(Enum):
    UPDATING = 'UPDATING'
    ACTIVE = 'ACTIVE'


class EncryptionType(Enum):
    NONE = 'NONE'
    KMS = 'KMS'


class EncryptionConfig(BaseModel):
    """
    A configuration document that specifies encryption configuration settings.
    """

    KeyId: Optional[String] = None
    Status: Optional[EncryptionStatus] = None
    Type: Optional[EncryptionType] = None


class EncryptionKeyId(BaseModel):
    __root__: Annotated[str, Field(max_length=3000, min_length=1)]


class EntitySelectorExpression(BaseModel):
    __root__: Annotated[str, Field(max_length=500, min_length=1)]


class ServiceNames(AliasNames):
    pass


class EventSummaryText(String):
    pass


class ForecastStatistics(BaseModel):
    """
    The predicted high and low fault count. This is used to determine if a service has become anomalous and if an insight should be created.
    """

    FaultCountHigh: Optional[NullableLong] = None
    FaultCountLow: Optional[NullableLong] = None


class GetEncryptionConfigRequest(BaseModel):
    pass


class GetGroupRequest(BaseModel):
    GroupName: Optional[GroupName] = None
    GroupARN: Optional[GroupARN1] = None


class GetGroupsNextToken(BaseModel):
    __root__: Annotated[str, Field(max_length=100, min_length=1)]


class GetGroupsRequest(BaseModel):
    NextToken: Optional[GetGroupsNextToken] = None


class GetInsightEventsMaxResults(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=50.0)]


class InsightId(BaseModel):
    __root__: Annotated[
        str,
        Field(
            regex='[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}'
        ),
    ]


class Token(BaseModel):
    __root__: Annotated[str, Field(max_length=2000, min_length=1)]


class GetInsightEventsRequest(BaseModel):
    InsightId: InsightId
    MaxResults: Optional[GetInsightEventsMaxResults] = None
    NextToken: Optional[Token] = None


class GetInsightImpactGraphRequest(BaseModel):
    InsightId: InsightId
    StartTime: Timestamp
    EndTime: Timestamp
    NextToken: Optional[Token] = None


class GetInsightRequest(BaseModel):
    InsightId: InsightId


class GetInsightSummariesMaxResults(BaseModel):
    __root__: Annotated[int, Field(ge=1.0, le=100.0)]


class InsightStateList(BaseModel):
    __root__: Annotated[List[InsightState], Field(max_items=1, min_items=0)]


class GetInsightSummariesRequest(BaseModel):
    States: Optional[InsightStateList] = None
    GroupARN: Optional[GroupARN1] = None
    GroupName: Optional[GroupName] = None
    StartTime: Timestamp
    EndTime: Timestamp
    MaxResults: Optional[GetInsightSummariesMaxResults] = None
    NextToken: Optional[Token] = None


class GetSamplingRulesRequest(BaseModel):
    NextToken: Optional[String] = None


class GetSamplingStatisticSummariesRequest(BaseModel):
    NextToken: Optional[String] = None


class GetServiceGraphRequest(BaseModel):
    StartTime: Timestamp
    EndTime: Timestamp
    GroupName: Optional[GroupName] = None
    GroupARN: Optional[GroupARN1] = None
    NextToken: Optional[String] = None


class GetTimeSeriesServiceStatisticsRequest(BaseModel):
    StartTime: Timestamp
    EndTime: Timestamp
    GroupName: Optional[GroupName] = None
    GroupARN: Optional[GroupARN1] = None
    EntitySelectorExpression: Optional[EntitySelectorExpression] = None
    Period: Optional[NullableInteger] = None
    ForecastStatistics: Optional[NullableBoolean] = None
    NextToken: Optional[String] = None


class GetTraceGraphRequest(BaseModel):
    TraceIds: TraceIdList
    NextToken: Optional[String] = None


class TimeRangeType(Enum):
    TraceId = 'TraceId'
    Event = 'Event'


class SamplingStrategy(BaseModel):
    """
    The name and value of a sampling rule to apply to a trace summary.
    """

    Name: Optional[SamplingStrategyName] = None
    Value: Optional[NullableDouble] = None


class GetTraceSummariesRequest(BaseModel):
    StartTime: Timestamp
    EndTime: Timestamp
    TimeRangeType: Optional[TimeRangeType] = None
    Sampling: Optional[NullableBoolean] = None
    SamplingStrategy: Optional[SamplingStrategy] = None
    FilterExpression: Optional[FilterExpression] = None
    NextToken: Optional[String] = None


class GroupSummary(Group):
    """
    Details for a group without metadata.
    """

    pass


class Integer(NullableInteger):
    pass


class Hostname(BaseModel):
    __root__: Annotated[str, Field(max_length=255)]


class Http(BaseModel):
    """
    Information about an HTTP request.
    """

    HttpURL: Optional[String] = None
    HttpStatus: Optional[NullableInteger] = None
    HttpMethod: Optional[String] = None
    UserAgent: Optional[String] = None
    ClientIp: Optional[String] = None


class InsightSummaryText(String):
    pass


class RequestImpactStatistics(BaseModel):
    """
    Statistics that describe how the incident has impacted a service.
    """

    FaultCount: Optional[NullableLong] = None
    OkCount: Optional[NullableLong] = None
    TotalCount: Optional[NullableLong] = None


class InsightCategory(Enum):
    FAULT = 'FAULT'


class InsightImpactGraphEdge(BaseModel):
    """
    The connection between two service in an insight impact graph.
    """

    ReferenceId: Optional[NullableInteger] = None


class InsightImpactGraphEdgeList(BaseModel):
    __root__: List[InsightImpactGraphEdge]


class InsightImpactGraphService(BaseModel):
    """
    Information about an application that processed requests, users that made requests, or downstream services, resources, and applications that an application used.
    """

    ReferenceId: Optional[NullableInteger] = None
    Type: Optional[String] = None
    Name: Optional[String] = None
    Names: Optional[ServiceNames] = None
    AccountId: Optional[String] = None
    Edges: Optional[InsightImpactGraphEdgeList] = None


class InstanceIdDetail(BaseModel):
    """
    A list of EC2 instance IDs corresponding to the segments in a trace.
    """

    Id: Optional[String] = None


class ListTagsForResourceRequest(BaseModel):
    ResourceARN: AmazonResourceName
    NextToken: Optional[String] = None


class PutEncryptionConfigRequest(BaseModel):
    KeyId: Optional[EncryptionKeyId] = None
    Type: EncryptionType


class TraceSegmentDocumentList(BaseModel):
    __root__: List[TraceSegmentDocument]


class PutTraceSegmentsRequest(BaseModel):
    TraceSegmentDocuments: TraceSegmentDocumentList


class RequestCount(ReservoirSize):
    pass


class ResourceARNDetail(BaseModel):
    """
    A list of resources ARNs corresponding to the segments in a trace.
    """

    ARN: Optional[String] = None


class ResponseTimeRootCauseEntity(BaseModel):
    """
    A collection of segments and corresponding subsegments associated to a response time warning.
    """

    Name: Optional[String] = None
    Coverage: Optional[NullableDouble] = None
    Remote: Optional[NullableBoolean] = None


class ResponseTimeRootCauseEntityPath(BaseModel):
    __root__: List[ResponseTimeRootCauseEntity]


class ResponseTimeRootCauseService(BaseModel):
    """
    A collection of fields identifying the service in a response time warning.
    """

    Name: Optional[String] = None
    Names: Optional[ServiceNames] = None
    Type: Optional[String] = None
    AccountId: Optional[String] = None
    EntityPath: Optional[ResponseTimeRootCauseEntityPath] = None
    Inferred: Optional[NullableBoolean] = None


class RootCauseException(BaseModel):
    """
    The exception associated with a root cause.
    """

    Name: Optional[String] = None
    Message: Optional[String] = None


class SampledCount(ReservoirSize):
    pass


class SamplingRuleUpdate(BaseModel):
    """
    A document specifying changes to a sampling rule's configuration.
    """

    RuleName: Optional[RuleName] = None
    RuleARN: Optional[String] = None
    ResourceARN: Optional[ResourceARN] = None
    Priority: Optional[NullableInteger] = None
    FixedRate: Optional[NullableDouble] = None
    ReservoirSize: Optional[NullableInteger] = None
    Host: Optional[Host] = None
    ServiceName: Optional[ServiceName] = None
    ServiceType: Optional[ServiceType] = None
    HTTPMethod: Optional[HTTPMethod] = None
    URLPath: Optional[URLPath] = None
    Attributes: Optional[AttributeMap] = None


class SamplingStatisticSummary(BaseModel):
    """
    Aggregated request sampling data for a sampling rule across all services for a 10-second window.
    """

    RuleName: Optional[String] = None
    Timestamp: Optional[Timestamp] = None
    RequestCount: Optional[Integer] = None
    BorrowCount: Optional[Integer] = None
    SampledCount: Optional[Integer] = None


class SamplingTargetDocument(BaseModel):
    """
    Temporary changes to a sampling rule configuration. To meet the global sampling target for a rule, X-Ray calculates a new reservoir for each service based on the recent sampling results of all services that called <a href="https://docs.aws.amazon.com/xray/latest/api/API_GetSamplingTargets.html">GetSamplingTargets</a>.
    """

    RuleName: Optional[String] = None
    FixedRate: Optional[Double] = None
    ReservoirQuota: Optional[NullableInteger] = None
    ReservoirQuotaTTL: Optional[Timestamp] = None
    Interval: Optional[NullableInteger] = None


class SegmentId(String):
    pass


class SegmentDocument(BaseModel):
    __root__: Annotated[str, Field(min_length=1)]


class Segment(BaseModel):
    """
    <p>A segment from a trace that has been ingested by the X-Ray service. The segment can be compiled from documents uploaded with <a href="https://docs.aws.amazon.com/xray/latest/api/API_PutTraceSegments.html">PutTraceSegments</a>, or an <code>inferred</code> segment for a downstream service, generated from a subsegment sent by the service that called it.</p> <p>For the full segment document schema, see <a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-api-segmentdocuments.html">Amazon Web Services X-Ray Segment Documents</a> in the <i>Amazon Web Services X-Ray Developer Guide</i>.</p>
    """

    Id: Optional[SegmentId] = None
    Document: Optional[SegmentDocument] = None


class SegmentList(BaseModel):
    __root__: List[Segment]


class ServiceStatistics(BaseModel):
    """
    Response statistics for a service.
    """

    OkCount: Optional[NullableLong] = None
    ErrorStatistics: Optional[ErrorStatistics] = None
    FaultStatistics: Optional[FaultStatistics] = None
    TotalCount: Optional[NullableLong] = None
    TotalResponseTime: Optional[NullableDouble] = None


class TagValue(BaseModel):
    __root__: Annotated[str, Field(max_length=256, min_length=0)]


class TagKeyList(BaseModel):
    __root__: Annotated[List[TagKey], Field(max_items=200, min_items=0)]


class Trace(BaseModel):
    """
    A collection of segment documents with matching trace IDs.
    """

    Id: Optional[TraceId] = None
    Duration: Optional[NullableDouble] = None
    LimitExceeded: Optional[NullableBoolean] = None
    Segments: Optional[SegmentList] = None


class TraceAvailabilityZones(BaseModel):
    __root__: List[AvailabilityZoneDetail]


class TraceInstanceIds(BaseModel):
    __root__: List[InstanceIdDetail]


class TraceResourceARNs(BaseModel):
    __root__: List[ResourceARNDetail]


class UnprocessedStatistics(BaseModel):
    """
    Sampling statistics from a call to <a href="https://docs.aws.amazon.com/xray/latest/api/API_GetSamplingTargets.html">GetSamplingTargets</a> that X-Ray could not process.
    """

    RuleName: Optional[String] = None
    ErrorCode: Optional[String] = None
    Message: Optional[String] = None


class UnprocessedTraceSegment(BaseModel):
    """
    Information about a segment that failed processing.
    """

    Id: Optional[String] = None
    ErrorCode: Optional[String] = None
    Message: Optional[String] = None


class UntagResourceRequest(BaseModel):
    ResourceARN: AmazonResourceName
    TagKeys: TagKeyList


class UpdateGroupRequest(BaseModel):
    GroupName: Optional[GroupName] = None
    GroupARN: Optional[GroupARN1] = None
    FilterExpression: Optional[FilterExpression] = None
    InsightsConfiguration: Optional[InsightsConfiguration] = None


class UpdateSamplingRuleRequest(BaseModel):
    SamplingRuleUpdate: SamplingRuleUpdate


class CreateGroupResult(BaseModel):
    Group: Optional[Group] = None


class Tag(BaseModel):
    """
    <p>A map that contains tag keys and tag values to attach to an Amazon Web Services X-Ray group or sampling rule. For more information about ways to use tags, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html">Tagging Amazon Web Services resources</a> in the <i>Amazon Web Services General Reference</i>.</p> <p>The following restrictions apply to tags:</p> <ul> <li> <p>Maximum number of user-applied tags per resource: 50</p> </li> <li> <p>Tag keys and values are case sensitive.</p> </li> <li> <p>Don't use <code>aws:</code> as a prefix for keys; it's reserved for Amazon Web Services use. You cannot edit or delete system tags.</p> </li> </ul>
    """

    Key: TagKey
    Value: TagValue


class GetEncryptionConfigResult(BaseModel):
    EncryptionConfig: Optional[EncryptionConfig] = None


class GetGroupResult(CreateGroupResult):
    pass


class SamplingStatisticsDocument(BaseModel):
    """
    Request sampling results for a single rule from a service. Results are for the last 10 seconds unless the service has been assigned a longer reporting interval after a previous call to <a href="https://docs.aws.amazon.com/xray/latest/api/API_GetSamplingTargets.html">GetSamplingTargets</a>.
    """

    RuleName: RuleName
    ClientID: ClientID
    Timestamp: Timestamp
    RequestCount: RequestCount
    SampledCount: SampledCount
    BorrowCount: Optional[BorrowCount] = None


class PutEncryptionConfigResult(GetEncryptionConfigResult):
    pass


class TelemetryRecord(BaseModel):
    """
    <p/>
    """

    Timestamp: Timestamp
    SegmentsReceivedCount: Optional[NullableInteger] = None
    SegmentsSentCount: Optional[NullableInteger] = None
    SegmentsSpilloverCount: Optional[NullableInteger] = None
    SegmentsRejectedCount: Optional[NullableInteger] = None
    BackendConnectionErrors: Optional[BackendConnectionErrors] = None


class UpdateGroupResult(CreateGroupResult):
    pass


class ServiceId(BaseModel):
    """
    <p/>
    """

    Name: Optional[String] = None
    Names: Optional[ServiceNames] = None
    AccountId: Optional[String] = None
    Type: Optional[String] = None


class AnomalousService(BaseModel):
    """
    The service within the service graph that has anomalously high fault rates.
    """

    ServiceId: Optional[ServiceId] = None


class AnomalousServiceList(BaseModel):
    __root__: List[AnomalousService]


class TraceList(BaseModel):
    __root__: List[Trace]


class TagList(BaseModel):
    __root__: Annotated[List[Tag], Field(max_items=200, min_items=0)]


class CreateGroupRequest(BaseModel):
    GroupName: GroupName
    FilterExpression: Optional[FilterExpression] = None
    InsightsConfiguration: Optional[InsightsConfiguration] = None
    Tags: Optional[TagList] = None


class CreateSamplingRuleRequest(BaseModel):
    SamplingRule: SamplingRule
    Tags: Optional[TagList] = None


class SamplingRuleRecord(BaseModel):
    """
    A <a href="https://docs.aws.amazon.com/xray/latest/api/API_SamplingRule.html">SamplingRule</a> and its metadata.
    """

    SamplingRule: Optional[SamplingRule] = None
    CreatedAt: Optional[Timestamp] = None
    ModifiedAt: Optional[Timestamp] = None


class EdgeStatistics(ServiceStatistics):
    """
    Response statistics for an edge.
    """

    pass


class RootCauseExceptions(BaseModel):
    __root__: List[RootCauseException]


class ErrorRootCauseEntity(BaseModel):
    """
    A collection of segments and corresponding subsegments associated to a trace summary error.
    """

    Name: Optional[String] = None
    Exceptions: Optional[RootCauseExceptions] = None
    Remote: Optional[NullableBoolean] = None


class ErrorRootCauseEntityPath(BaseModel):
    __root__: List[ErrorRootCauseEntity]


class ErrorRootCauseService(BaseModel):
    """
    A collection of fields identifying the services in a trace summary error.
    """

    Name: Optional[String] = None
    Names: Optional[ServiceNames] = None
    Type: Optional[String] = None
    AccountId: Optional[String] = None
    EntityPath: Optional[ErrorRootCauseEntityPath] = None
    Inferred: Optional[NullableBoolean] = None


class FaultRootCauseEntity(ErrorRootCauseEntity):
    """
    A collection of segments and corresponding subsegments associated to a trace summary fault error.
    """

    pass


class FaultRootCauseEntityPath(BaseModel):
    __root__: List[FaultRootCauseEntity]


class FaultRootCauseService(BaseModel):
    """
    A collection of fields identifying the services in a trace summary fault.
    """

    Name: Optional[String] = None
    Names: Optional[ServiceNames] = None
    Type: Optional[String] = None
    AccountId: Optional[String] = None
    EntityPath: Optional[FaultRootCauseEntityPath] = None
    Inferred: Optional[NullableBoolean] = None


class GroupSummaryList(BaseModel):
    __root__: List[GroupSummary]


class InsightImpactGraphServiceList(BaseModel):
    __root__: List[InsightImpactGraphService]


class SamplingRuleRecordList(BaseModel):
    __root__: List[SamplingRuleRecord]


class SamplingStatisticSummaryList(BaseModel):
    __root__: List[SamplingStatisticSummary]


class SamplingStatisticsDocumentList(BaseModel):
    __root__: Annotated[List[SamplingStatisticsDocument], Field(max_items=25)]


class GetSamplingTargetsRequest(BaseModel):
    SamplingStatisticsDocuments: SamplingStatisticsDocumentList


class SamplingTargetDocumentList(BaseModel):
    __root__: List[SamplingTargetDocument]


class UnprocessedStatisticsList(BaseModel):
    __root__: List[UnprocessedStatistics]


class HistogramEntry(BaseModel):
    """
    An entry in a histogram for a statistic. A histogram maps the range of observed values on the X axis, and the prevalence of each value on the Y axis.
    """

    Value: Optional[Double] = None
    Count: Optional[Integer] = None


class InsightCategoryList(BaseModel):
    __root__: List[InsightCategory]


class InsightEvent(BaseModel):
    """
    X-Ray reevaluates insights periodically until they are resolved, and records each intermediate state in an event. You can review incident events in the Impact Timeline on the Inspect page in the X-Ray console.
    """

    Summary: Optional[EventSummaryText] = None
    EventTime: Optional[Timestamp] = None
    ClientRequestImpactStatistics: Optional[RequestImpactStatistics] = None
    RootCauseServiceRequestImpactStatistics: Optional[RequestImpactStatistics] = None
    TopAnomalousServices: Optional[AnomalousServiceList] = None


class InsightSummary(BaseModel):
    """
    Information that describes an insight.
    """

    InsightId: Optional[InsightId] = None
    GroupARN: Optional[GroupARN1] = None
    GroupName: Optional[GroupName] = None
    RootCauseServiceId: Optional[ServiceId] = None
    Categories: Optional[InsightCategoryList] = None
    State: Optional[InsightState] = None
    StartTime: Optional[Timestamp] = None
    EndTime: Optional[Timestamp] = None
    Summary: Optional[InsightSummaryText] = None
    ClientRequestImpactStatistics: Optional[RequestImpactStatistics] = None
    RootCauseServiceRequestImpactStatistics: Optional[RequestImpactStatistics] = None
    TopAnomalousServices: Optional[AnomalousServiceList] = None
    LastUpdateTime: Optional[Timestamp] = None


class TelemetryRecordList(BaseModel):
    __root__: List[TelemetryRecord]


class PutTelemetryRecordsRequest(BaseModel):
    TelemetryRecords: TelemetryRecordList
    EC2InstanceId: Optional[EC2InstanceId] = None
    Hostname: Optional[Hostname] = None
    ResourceARN: Optional[ResourceARN] = None


class UnprocessedTraceSegmentList(BaseModel):
    __root__: List[UnprocessedTraceSegment]


class ResponseTimeRootCauseServices(BaseModel):
    __root__: List[ResponseTimeRootCauseService]


class ResponseTimeRootCause(BaseModel):
    """
    The root cause information for a response time warning.
    """

    Services: Optional[ResponseTimeRootCauseServices] = None
    ClientImpacting: Optional[NullableBoolean] = None


class ResponseTimeRootCauses(BaseModel):
    __root__: List[ResponseTimeRootCause]


class ServiceIds(BaseModel):
    __root__: List[ServiceId]


class TagResourceRequest(BaseModel):
    ResourceARN: AmazonResourceName
    Tags: TagList


class TraceUser(BaseModel):
    """
    Information about a user recorded in segment documents.
    """

    UserName: Optional[String] = None
    ServiceIds: Optional[ServiceIds] = None


class ValueWithServiceIds(BaseModel):
    """
    Information about a segment annotation.
    """

    AnnotationValue: Optional[AnnotationValue] = None
    ServiceIds: Optional[ServiceIds] = None


class BatchGetTracesResult(BaseModel):
    Traces: Optional[TraceList] = None
    UnprocessedTraceIds: Optional[UnprocessedTraceIdList] = None
    NextToken: Optional[String] = None


class CreateSamplingRuleResult(BaseModel):
    SamplingRuleRecord: Optional[SamplingRuleRecord] = None


class DeleteSamplingRuleResult(CreateSamplingRuleResult):
    pass


class GetGroupsResult(BaseModel):
    Groups: Optional[GroupSummaryList] = None
    NextToken: Optional[String] = None


class GetInsightImpactGraphResult(BaseModel):
    InsightId: Optional[InsightId] = None
    StartTime: Optional[Timestamp] = None
    EndTime: Optional[Timestamp] = None
    ServiceGraphStartTime: Optional[Timestamp] = None
    ServiceGraphEndTime: Optional[Timestamp] = None
    Services: Optional[InsightImpactGraphServiceList] = None
    NextToken: Optional[Token] = None


class GetSamplingRulesResult(BaseModel):
    SamplingRuleRecords: Optional[SamplingRuleRecordList] = None
    NextToken: Optional[String] = None


class GetSamplingStatisticSummariesResult(BaseModel):
    SamplingStatisticSummaries: Optional[SamplingStatisticSummaryList] = None
    NextToken: Optional[String] = None


class GetSamplingTargetsResult(BaseModel):
    SamplingTargetDocuments: Optional[SamplingTargetDocumentList] = None
    LastRuleModification: Optional[Timestamp] = None
    UnprocessedStatistics: Optional[UnprocessedStatisticsList] = None


class ListTagsForResourceResponse(BaseModel):
    Tags: Optional[TagList] = None
    NextToken: Optional[String] = None


class PutTraceSegmentsResult(BaseModel):
    UnprocessedTraceSegments: Optional[UnprocessedTraceSegmentList] = None


class UpdateSamplingRuleResult(CreateSamplingRuleResult):
    pass


class ValuesWithServiceIds(BaseModel):
    __root__: List[ValueWithServiceIds]


class Histogram(BaseModel):
    __root__: List[HistogramEntry]


class Edge(BaseModel):
    """
    Information about a connection between two services.
    """

    ReferenceId: Optional[NullableInteger] = None
    StartTime: Optional[Timestamp] = None
    EndTime: Optional[Timestamp] = None
    SummaryStatistics: Optional[EdgeStatistics] = None
    ResponseTimeHistogram: Optional[Histogram] = None
    Aliases: Optional[AliasList] = None


class EdgeList(BaseModel):
    __root__: List[Edge]


class ErrorRootCauseServices(BaseModel):
    __root__: List[ErrorRootCauseService]


class ErrorRootCause(BaseModel):
    """
    The root cause of a trace summary error.
    """

    Services: Optional[ErrorRootCauseServices] = None
    ClientImpacting: Optional[NullableBoolean] = None


class ErrorRootCauses(BaseModel):
    __root__: List[ErrorRootCause]


class FaultRootCauseServices(BaseModel):
    __root__: List[FaultRootCauseService]


class FaultRootCause(BaseModel):
    """
    The root cause information for a trace summary fault.
    """

    Services: Optional[FaultRootCauseServices] = None
    ClientImpacting: Optional[NullableBoolean] = None


class FaultRootCauses(BaseModel):
    __root__: List[FaultRootCause]


class InsightEventList(BaseModel):
    __root__: List[InsightEvent]


class Insight(BaseModel):
    """
    When fault rates go outside of the expected range, X-Ray creates an insight. Insights tracks emergent issues within your applications.
    """

    InsightId: Optional[InsightId] = None
    GroupARN: Optional[GroupARN1] = None
    GroupName: Optional[GroupName] = None
    RootCauseServiceId: Optional[ServiceId] = None
    Categories: Optional[InsightCategoryList] = None
    State: Optional[InsightState] = None
    StartTime: Optional[Timestamp] = None
    EndTime: Optional[Timestamp] = None
    Summary: Optional[InsightSummaryText] = None
    ClientRequestImpactStatistics: Optional[RequestImpactStatistics] = None
    RootCauseServiceRequestImpactStatistics: Optional[RequestImpactStatistics] = None
    TopAnomalousServices: Optional[AnomalousServiceList] = None


class InsightSummaryList(BaseModel):
    __root__: List[InsightSummary]


class Service(BaseModel):
    """
    Information about an application that processed requests, users that made requests, or downstream services, resources, and applications that an application used.
    """

    ReferenceId: Optional[NullableInteger] = None
    Name: Optional[String] = None
    Names: Optional[ServiceNames] = None
    Root: Optional[NullableBoolean] = None
    AccountId: Optional[String] = None
    Type: Optional[String] = None
    State: Optional[String] = None
    StartTime: Optional[Timestamp] = None
    EndTime: Optional[Timestamp] = None
    Edges: Optional[EdgeList] = None
    SummaryStatistics: Optional[ServiceStatistics] = None
    DurationHistogram: Optional[Histogram] = None
    ResponseTimeHistogram: Optional[Histogram] = None


class TimeSeriesServiceStatistics(BaseModel):
    """
    A list of TimeSeriesStatistic structures.
    """

    Timestamp: Optional[Timestamp] = None
    EdgeSummaryStatistics: Optional[EdgeStatistics] = None
    ServiceSummaryStatistics: Optional[ServiceStatistics] = None
    ServiceForecastStatistics: Optional[ForecastStatistics] = None
    ResponseTimeHistogram: Optional[Histogram] = None


class TraceUsers(BaseModel):
    __root__: List[TraceUser]


class TraceSummary(BaseModel):
    """
    Metadata generated from the segment documents in a trace.
    """

    Id: Optional[TraceId] = None
    Duration: Optional[NullableDouble] = None
    ResponseTime: Optional[NullableDouble] = None
    HasFault: Optional[NullableBoolean] = None
    HasError: Optional[NullableBoolean] = None
    HasThrottle: Optional[NullableBoolean] = None
    IsPartial: Optional[NullableBoolean] = None
    Http: Optional[Http] = None
    Annotations: Optional[Annotations] = None
    Users: Optional[TraceUsers] = None
    ServiceIds: Optional[ServiceIds] = None
    ResourceARNs: Optional[TraceResourceARNs] = None
    InstanceIds: Optional[TraceInstanceIds] = None
    AvailabilityZones: Optional[TraceAvailabilityZones] = None
    EntryPoint: Optional[ServiceId] = None
    FaultRootCauses: Optional[FaultRootCauses] = None
    ErrorRootCauses: Optional[ErrorRootCauses] = None
    ResponseTimeRootCauses: Optional[ResponseTimeRootCauses] = None
    Revision: Optional[Integer] = None
    MatchedEventTime: Optional[Timestamp] = None


class GetInsightResult(BaseModel):
    Insight: Optional[Insight] = None


class GetInsightEventsResult(BaseModel):
    InsightEvents: Optional[InsightEventList] = None
    NextToken: Optional[Token] = None


class GetInsightSummariesResult(BaseModel):
    InsightSummaries: Optional[InsightSummaryList] = None
    NextToken: Optional[Token] = None


class ServiceList(BaseModel):
    __root__: List[Service]


class TimeSeriesServiceStatisticsList(BaseModel):
    __root__: List[TimeSeriesServiceStatistics]


class TraceSummaryList(BaseModel):
    __root__: List[TraceSummary]


class GetServiceGraphResult(BaseModel):
    StartTime: Optional[Timestamp] = None
    EndTime: Optional[Timestamp] = None
    Services: Optional[ServiceList] = None
    ContainsOldGroupVersions: Optional[Boolean] = None
    NextToken: Optional[String] = None


class GetTimeSeriesServiceStatisticsResult(BaseModel):
    TimeSeriesServiceStatistics: Optional[TimeSeriesServiceStatisticsList] = None
    ContainsOldGroupVersions: Optional[Boolean] = None
    NextToken: Optional[String] = None


class GetTraceGraphResult(BaseModel):
    Services: Optional[ServiceList] = None
    NextToken: Optional[String] = None


class GetTraceSummariesResult(BaseModel):
    TraceSummaries: Optional[TraceSummaryList] = None
    ApproximateTime: Optional[Timestamp] = None
    TracesProcessedCount: Optional[NullableLong] = None
    NextToken: Optional[String] = None
