# generated by datamodel-codegen:
#   filename:  openapi.yaml
#   timestamp: 2021-12-31T02:53:39+00:00

from __future__ import annotations

from datetime import datetime
from enum import Enum
from typing import Annotated, Any, List, Optional

from pydantic import BaseModel, Field, SecretStr


class InvalidStateException(BaseModel):
    __root__: Any


class ResourceNotFoundException(InvalidStateException):
    pass


class ValidationException(InvalidStateException):
    pass


class LimitExceededException(InvalidStateException):
    pass


class ResourceAlreadyExistsException(InvalidStateException):
    pass


class DeleteBackupResponse(BaseModel):
    pass


class DeleteServerResponse(DeleteBackupResponse):
    pass


class DescribeAccountAttributesRequest(BaseModel):
    pass


class InvalidNextTokenException(InvalidStateException):
    pass


class TagResourceResponse(DeleteBackupResponse):
    pass


class UntagResourceResponse(DeleteBackupResponse):
    pass


class AWSOpsWorksCMResourceArn(BaseModel):
    __root__: Annotated[str, Field(regex='arn:aws.*:opsworks-cm:.*:[0-9]{12}:.*')]


class String(BaseModel):
    __root__: Annotated[str, Field(max_length=10000, regex='\\(\\?s\\).*')]


class Integer(BaseModel):
    __root__: int


class AccountAttribute(BaseModel):
    """
    Stores account attributes.
    """

    Name: Optional[String] = None
    Maximum: Optional[Integer] = None
    Used: Optional[Integer] = None


class AccountAttributes(BaseModel):
    """
    A list of individual account attributes.
    """

    __root__: Annotated[
        List[AccountAttribute],
        Field(description=' A list of individual account attributes. '),
    ]


class ServerName(BaseModel):
    __root__: Annotated[
        str, Field(max_length=40, min_length=1, regex='[a-zA-Z][a-zA-Z0-9\\-]*')
    ]


class NodeName(BaseModel):
    __root__: Annotated[
        str,
        Field(
            description='The node name that is used by <code>chef-client</code> or <code>puppet-agent</code>for a new node. We recommend to use a unique FQDN as hostname. For more information, see the <a href="https://docs.aws.amazon.com/https:/docs.chef.io/nodes.html#about-node-names">Chef</a> or <a href="https://docs.aws.amazon.com/https:/docs.puppet.com/puppet/4.10/man/agent.html">Puppet</a> documentation. ',
            max_length=10000,
            regex='^[\\-\\p{Alnum}_:.]+$',
        ),
    ]


class NodeAssociationStatusToken(String):
    pass


class AttributeName(BaseModel):
    __root__: Annotated[
        str, Field(max_length=64, min_length=1, regex='[A-Z][A-Z0-9_]*')
    ]


class AttributeValue(String):
    pass


class BackupId(BaseModel):
    __root__: Annotated[
        str, Field(max_length=79, regex='[a-zA-Z][a-zA-Z0-9\\-\\.\\:]*')
    ]


class BackupType(Enum):
    AUTOMATED = 'AUTOMATED'
    MANUAL = 'MANUAL'


class Timestamp(BaseModel):
    __root__: datetime


class TimeWindowDefinition(BaseModel):
    __root__: Annotated[
        str,
        Field(
            description='<p> <code>DDD:HH:MM</code> (weekly start time) or <code>HH:MM</code> (daily start time). </p> <p> Time windows always use coordinated universal time (UTC). Valid strings for day of week (<code>DDD</code>) are: <code>Mon</code>, <code>Tue</code>, <code>Wed</code>, <code>Thr</code>, <code>Fri</code>, <code>Sat</code>, or <code>Sun</code>.</p>',
            max_length=10000,
            regex='^((Mon|Tue|Wed|Thu|Fri|Sat|Sun):)?([0-1][0-9]|2[0-3]):[0-5][0-9]$',
        ),
    ]


class Strings(BaseModel):
    __root__: List[String]


class BackupStatus(Enum):
    IN_PROGRESS = 'IN_PROGRESS'
    OK = 'OK'
    FAILED = 'FAILED'
    DELETING = 'DELETING'


class Backup(BaseModel):
    """
    Describes a single backup.
    """

    BackupArn: Optional[String] = None
    BackupId: Optional[BackupId] = None
    BackupType: Optional[BackupType] = None
    CreatedAt: Optional[Timestamp] = None
    Description: Optional[String] = None
    Engine: Optional[String] = None
    EngineModel: Optional[String] = None
    EngineVersion: Optional[String] = None
    InstanceProfileArn: Optional[String] = None
    InstanceType: Optional[String] = None
    KeyPair: Optional[String] = None
    PreferredBackupWindow: Optional[TimeWindowDefinition] = None
    PreferredMaintenanceWindow: Optional[TimeWindowDefinition] = None
    S3DataSize: Optional[Integer] = None
    S3DataUrl: Optional[String] = None
    S3LogUrl: Optional[String] = None
    SecurityGroupIds: Optional[Strings] = None
    ServerName: Optional[ServerName] = None
    ServiceRoleArn: Optional[String] = None
    Status: Optional[BackupStatus] = None
    StatusDescription: Optional[String] = None
    SubnetIds: Optional[Strings] = None
    ToolsVersion: Optional[String] = None
    UserArn: Optional[String] = None


class BackupRetentionCountDefinition(BaseModel):
    __root__: Annotated[int, Field(ge=1.0)]


class Backups(BaseModel):
    __root__: List[Backup]


class Boolean(BaseModel):
    __root__: bool


class CustomDomain(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=253,
            regex='^(((?!-)[A-Za-z0-9-]{0,62}[A-Za-z0-9])\\.)+((?!-)[A-Za-z0-9-]{1,62}[A-Za-z0-9])$',
        ),
    ]


class CustomCertificate(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=2097152,
            regex='\\(\\?s\\)\\s*-----BEGIN CERTIFICATE-----.\\+-----END CERTIFICATE-----\\s*',
        ),
    ]


class CustomPrivateKey(BaseModel):
    __root__: Annotated[
        SecretStr,
        Field(
            max_length=4096,
            regex='\\(\\?ms\\)\\s*^-----BEGIN \\(\\?-s:.*\\)PRIVATE KEY-----$.*\\?^-----END \\(\\?-s:.*\\)PRIVATE KEY-----$\\s*',
        ),
    ]


class InstanceProfileArn(BaseModel):
    __root__: Annotated[
        str, Field(max_length=10000, regex='arn:aws:iam::[0-9]{12}:instance-profile/.*')
    ]


class KeyPair(BaseModel):
    __root__: Annotated[str, Field(max_length=10000, regex='.*')]


class ServiceRoleArn(BaseModel):
    __root__: Annotated[
        str, Field(max_length=10000, regex='arn:aws:iam::[0-9]{12}:role/.*')
    ]


class NextToken(String):
    pass


class MaxResults(BackupRetentionCountDefinition):
    pass


class NodeAssociationStatus(Enum):
    """
    <p>The status of the association or disassociation request. </p> <p class="title"> <b>Possible values:</b> </p> <ul> <li> <p> <code>SUCCESS</code>: The association or disassociation succeeded. </p> </li> <li> <p> <code>FAILED</code>: The association or disassociation failed. </p> </li> <li> <p> <code>IN_PROGRESS</code>: The association or disassociation is still in progress. </p> </li> </ul>
    """

    SUCCESS = 'SUCCESS'
    FAILED = 'FAILED'
    IN_PROGRESS = 'IN_PROGRESS'


class EngineAttributeName(String):
    pass


class EngineAttributeValue(BaseModel):
    __root__: Annotated[SecretStr, Field(max_length=10000, regex='\\(\\?s\\).*')]


class EngineAttribute(BaseModel):
    """
    A name and value pair that is specific to the engine of the server.
    """

    Name: Optional[EngineAttributeName] = None
    Value: Optional[EngineAttributeValue] = None


class MaintenanceStatus(Enum):
    SUCCESS = 'SUCCESS'
    FAILED = 'FAILED'


class ServerStatus(Enum):
    BACKING_UP = 'BACKING_UP'
    CONNECTION_LOST = 'CONNECTION_LOST'
    CREATING = 'CREATING'
    DELETING = 'DELETING'
    MODIFYING = 'MODIFYING'
    FAILED = 'FAILED'
    HEALTHY = 'HEALTHY'
    RUNNING = 'RUNNING'
    RESTORING = 'RESTORING'
    SETUP = 'SETUP'
    UNDER_MAINTENANCE = 'UNDER_MAINTENANCE'
    UNHEALTHY = 'UNHEALTHY'
    TERMINATED = 'TERMINATED'


class ServerEvent(BaseModel):
    """
    An event that is related to the server, such as the start of maintenance or backup.
    """

    CreatedAt: Optional[Timestamp] = None
    ServerName: Optional[String] = None
    Message: Optional[String] = None
    LogUrl: Optional[String] = None


class TagKey(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=128, min_length=1, regex='^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'
        ),
    ]


class TagValue(BaseModel):
    __root__: Annotated[
        str,
        Field(
            max_length=256, min_length=0, regex='^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'
        ),
    ]


class Tag(BaseModel):
    """
    A map that contains tag keys and tag values to attach to an AWS OpsWorks for Chef Automate or AWS OpsWorks for Puppet Enterprise server. Leading and trailing white spaces are trimmed from both the key and value. A maximum of 50 user-applied tags is allowed for tag-supported AWS OpsWorks-CM resources.
    """

    Key: TagKey
    Value: TagValue


class TagKeyList(BaseModel):
    __root__: Annotated[List[TagKey], Field(max_items=200, min_items=0)]


class AssociateNodeResponse(BaseModel):
    NodeAssociationStatusToken: Optional[NodeAssociationStatusToken] = None


class CreateBackupResponse(BaseModel):
    Backup: Optional[Backup] = None


class DeleteBackupRequest(BaseModel):
    BackupId: BackupId


class DeleteServerRequest(BaseModel):
    ServerName: ServerName


class DescribeAccountAttributesResponse(BaseModel):
    Attributes: Optional[AccountAttributes] = None


class DescribeBackupsResponse(BaseModel):
    Backups: Optional[Backups] = None
    NextToken: Optional[String] = None


class DescribeBackupsRequest(BaseModel):
    BackupId: Optional[BackupId] = None
    ServerName: Optional[ServerName] = None
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[MaxResults] = None


class DescribeEventsRequest(BaseModel):
    ServerName: ServerName
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[MaxResults] = None


class DescribeNodeAssociationStatusRequest(BaseModel):
    NodeAssociationStatusToken: NodeAssociationStatusToken
    ServerName: ServerName


class DescribeServersRequest(BaseModel):
    ServerName: Optional[ServerName] = None
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[MaxResults] = None


class DisassociateNodeResponse(AssociateNodeResponse):
    pass


class ExportServerEngineAttributeResponse(BaseModel):
    EngineAttribute: Optional[EngineAttribute] = None
    ServerName: Optional[ServerName] = None


class ListTagsForResourceRequest(BaseModel):
    ResourceArn: AWSOpsWorksCMResourceArn
    NextToken: Optional[NextToken] = None
    MaxResults: Optional[MaxResults] = None


class RestoreServerRequest(BaseModel):
    BackupId: BackupId
    ServerName: ServerName
    InstanceType: Optional[String] = None
    KeyPair: Optional[KeyPair] = None


class UntagResourceRequest(BaseModel):
    ResourceArn: AWSOpsWorksCMResourceArn
    TagKeys: TagKeyList


class UpdateServerRequest(BaseModel):
    DisableAutomatedBackup: Optional[Boolean] = None
    BackupRetentionCount: Optional[Integer] = None
    ServerName: ServerName
    PreferredMaintenanceWindow: Optional[TimeWindowDefinition] = None
    PreferredBackupWindow: Optional[TimeWindowDefinition] = None


class UpdateServerEngineAttributesRequest(BaseModel):
    ServerName: ServerName
    AttributeName: AttributeName
    AttributeValue: Optional[AttributeValue] = None


class EngineAttributes(BaseModel):
    __root__: List[EngineAttribute]


class TagList(BaseModel):
    __root__: Annotated[List[Tag], Field(max_items=200, min_items=0)]


class Server(BaseModel):
    """
    Describes a configuration management server.
    """

    AssociatePublicIpAddress: Optional[Boolean] = None
    BackupRetentionCount: Optional[Integer] = None
    ServerName: Optional[String] = None
    CreatedAt: Optional[Timestamp] = None
    CloudFormationStackArn: Optional[String] = None
    CustomDomain: Optional[CustomDomain] = None
    DisableAutomatedBackup: Optional[Boolean] = None
    Endpoint: Optional[String] = None
    Engine: Optional[String] = None
    EngineModel: Optional[String] = None
    EngineAttributes: Optional[EngineAttributes] = None
    EngineVersion: Optional[String] = None
    InstanceProfileArn: Optional[String] = None
    InstanceType: Optional[String] = None
    KeyPair: Optional[String] = None
    MaintenanceStatus: Optional[MaintenanceStatus] = None
    PreferredMaintenanceWindow: Optional[TimeWindowDefinition] = None
    PreferredBackupWindow: Optional[TimeWindowDefinition] = None
    SecurityGroupIds: Optional[Strings] = None
    ServiceRoleArn: Optional[String] = None
    Status: Optional[ServerStatus] = None
    StatusReason: Optional[String] = None
    SubnetIds: Optional[Strings] = None
    ServerArn: Optional[String] = None


class ServerEvents(BaseModel):
    __root__: List[ServerEvent]


class Servers(BaseModel):
    __root__: List[Server]


class AssociateNodeRequest(BaseModel):
    ServerName: ServerName
    NodeName: NodeName
    EngineAttributes: EngineAttributes


class CreateBackupRequest(BaseModel):
    ServerName: ServerName
    Description: Optional[String] = None
    Tags: Optional[TagList] = None


class CreateServerResponse(BaseModel):
    Server: Optional[Server] = None


class CreateServerRequest(BaseModel):
    AssociatePublicIpAddress: Optional[Boolean] = None
    CustomDomain: Optional[CustomDomain] = None
    CustomCertificate: Optional[CustomCertificate] = None
    CustomPrivateKey: Optional[CustomPrivateKey] = None
    DisableAutomatedBackup: Optional[Boolean] = None
    Engine: String
    EngineModel: Optional[String] = None
    EngineVersion: Optional[String] = None
    EngineAttributes: Optional[EngineAttributes] = None
    BackupRetentionCount: Optional[BackupRetentionCountDefinition] = None
    ServerName: ServerName
    InstanceProfileArn: InstanceProfileArn
    InstanceType: String
    KeyPair: Optional[KeyPair] = None
    PreferredMaintenanceWindow: Optional[TimeWindowDefinition] = None
    PreferredBackupWindow: Optional[TimeWindowDefinition] = None
    SecurityGroupIds: Optional[Strings] = None
    ServiceRoleArn: ServiceRoleArn
    SubnetIds: Optional[Strings] = None
    Tags: Optional[TagList] = None
    BackupId: Optional[BackupId] = None


class DescribeEventsResponse(BaseModel):
    ServerEvents: Optional[ServerEvents] = None
    NextToken: Optional[String] = None


class DescribeNodeAssociationStatusResponse(BaseModel):
    NodeAssociationStatus: Optional[NodeAssociationStatus] = None
    EngineAttributes: Optional[EngineAttributes] = None


class DescribeServersResponse(BaseModel):
    Servers: Optional[Servers] = None
    NextToken: Optional[String] = None


class DisassociateNodeRequest(BaseModel):
    ServerName: ServerName
    NodeName: NodeName
    EngineAttributes: Optional[EngineAttributes] = None


class ExportServerEngineAttributeRequest(BaseModel):
    ExportAttributeName: String
    ServerName: ServerName
    InputAttributes: Optional[EngineAttributes] = None


class ListTagsForResourceResponse(BaseModel):
    Tags: Optional[TagList] = None
    NextToken: Optional[NextToken] = None


class RestoreServerResponse(CreateServerResponse):
    pass


class StartMaintenanceResponse(CreateServerResponse):
    pass


class StartMaintenanceRequest(BaseModel):
    ServerName: ServerName
    EngineAttributes: Optional[EngineAttributes] = None


class TagResourceRequest(BaseModel):
    ResourceArn: AWSOpsWorksCMResourceArn
    Tags: TagList


class UpdateServerResponse(CreateServerResponse):
    pass


class UpdateServerEngineAttributesResponse(CreateServerResponse):
    pass
