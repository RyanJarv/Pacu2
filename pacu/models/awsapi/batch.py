# generated by datamodel-codegen:
#   filename:  openapi.yaml
#   timestamp: 2021-12-31T02:45:35+00:00

from __future__ import annotations

from enum import Enum
from typing import Annotated, Any, List, Optional

from pydantic import BaseModel, Extra, Field


class CancelJobResponse(BaseModel):
    pass


class ClientException(BaseModel):
    __root__: Any


class ServerException(ClientException):
    pass


class CRType(Enum):
    EC2 = 'EC2'
    SPOT = 'SPOT'
    FARGATE = 'FARGATE'
    FARGATE_SPOT = 'FARGATE_SPOT'


class CRAllocationStrategy(Enum):
    BEST_FIT = 'BEST_FIT'
    BEST_FIT_PROGRESSIVE = 'BEST_FIT_PROGRESSIVE'
    SPOT_CAPACITY_OPTIMIZED = 'SPOT_CAPACITY_OPTIMIZED'


class Integer(BaseModel):
    __root__: int


class String(BaseModel):
    __root__: str


class TagsMap(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class LaunchTemplateSpecification(BaseModel):
    """
    <p>An object representing a launch template associated with a compute resource. You must specify either the launch template ID or launch template name in the request, but not both.</p> <p>If security groups are specified using both the <code>securityGroupIds</code> parameter of <code>CreateComputeEnvironment</code> and the launch template, the values in the <code>securityGroupIds</code> parameter of <code>CreateComputeEnvironment</code> will be used.</p> <note> <p>This object isn't applicable to jobs that are running on Fargate resources.</p> </note>
    """

    launchTemplateId: Optional[String] = None
    launchTemplateName: Optional[String] = None
    version: Optional[String] = None


class TagValue(BaseModel):
    __root__: Annotated[str, Field(max_length=256)]


class CreateJobQueueResponse(BaseModel):
    jobQueueName: String
    jobQueueArn: String


class ComputeEnvironmentOrder(BaseModel):
    """
    <p>The order in which compute environments are tried for job placement within a queue. Compute environments are tried in ascending order. For example, if two compute environments are associated with a job queue, the compute environment with a lower order integer value is tried for job placement first. Compute environments must be in the <code>VALID</code> state before you can associate them with a job queue. All of the compute environments must be either EC2 (<code>EC2</code> or <code>SPOT</code>) or Fargate (<code>FARGATE</code> or <code>FARGATE_SPOT</code>); EC2 and Fargate compute environments can't be mixed.</p> <note> <p>All compute environments that are associated with a job queue must share the same architecture. Batch doesn't support mixing compute environment architecture types in a single job queue.</p> </note>
    """

    order: Integer
    computeEnvironment: String


class DeleteComputeEnvironmentResponse(CancelJobResponse):
    pass


class DeleteJobQueueResponse(CancelJobResponse):
    pass


class DeregisterJobDefinitionResponse(CancelJobResponse):
    pass


class RegisterJobDefinitionResponse(BaseModel):
    jobDefinitionName: String
    jobDefinitionArn: String
    revision: Integer


class Boolean(BaseModel):
    __root__: bool


class FargatePlatformConfiguration(BaseModel):
    """
    The platform configuration for jobs that are running on Fargate resources. Jobs that run on EC2 resources must not specify this parameter.
    """

    platformVersion: Optional[String] = None


class PlatformCapability(Enum):
    EC2 = 'EC2'
    FARGATE = 'FARGATE'


class SubmitJobResponse(BaseModel):
    jobArn: Optional[String] = None
    jobName: String
    jobId: String


class TagResourceResponse(CancelJobResponse):
    pass


class TerminateJobResponse(CancelJobResponse):
    pass


class UntagResourceResponse(CancelJobResponse):
    pass


class TagKey(BaseModel):
    __root__: Annotated[str, Field(max_length=128, min_length=1)]


class UpdateComputeEnvironmentResponse(BaseModel):
    computeEnvironmentName: Optional[String] = None
    computeEnvironmentArn: Optional[String] = None


class UpdateJobQueueResponse(BaseModel):
    jobQueueName: Optional[String] = None
    jobQueueArn: Optional[String] = None


class ArrayJobDependency(Enum):
    N_TO_N = 'N_TO_N'
    SEQUENTIAL = 'SEQUENTIAL'


class ArrayJobStatusSummary(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class ArrayProperties(BaseModel):
    """
    An object representing an Batch array job.
    """

    size: Optional[Integer] = None


class ArrayPropertiesDetail(BaseModel):
    """
    An object representing the array properties of a job.
    """

    statusSummary: Optional[ArrayJobStatusSummary] = None
    size: Optional[Integer] = None
    index: Optional[Integer] = None


class ArrayPropertiesSummary(BaseModel):
    """
    An object representing the array properties of a job.
    """

    size: Optional[Integer] = None
    index: Optional[Integer] = None


class AssignPublicIp(Enum):
    ENABLED = 'ENABLED'
    DISABLED = 'DISABLED'


class Long(Integer):
    pass


class CEStatus(Enum):
    CREATING = 'CREATING'
    UPDATING = 'UPDATING'
    DELETING = 'DELETING'
    DELETED = 'DELETED'
    VALID = 'VALID'
    INVALID = 'INVALID'


class CEType(Enum):
    MANAGED = 'MANAGED'
    UNMANAGED = 'UNMANAGED'


class CancelJobRequest(BaseModel):
    """
    Contains the parameters for <code>CancelJob</code>.
    """

    jobId: String
    reason: String


class TagrisTagsMap(BaseModel):
    pass

    class Config:
        extra = Extra.allow


class ComputeEnvironmentOrders(BaseModel):
    __root__: List[ComputeEnvironmentOrder]


class ContainerSummary(BaseModel):
    """
    An object representing summary details of a container within a job.
    """

    exitCode: Optional[Integer] = None
    reason: Optional[String] = None


class CreateJobQueueRequest(BaseModel):
    """
    Contains the parameters for <code>CreateJobQueue</code>.
    """

    jobQueueName: String
    state: Optional[AssignPublicIp] = None
    priority: Integer
    computeEnvironmentOrder: ComputeEnvironmentOrders
    tags: Optional[TagrisTagsMap] = None


class DeleteComputeEnvironmentRequest(BaseModel):
    """
    Contains the parameters for <code>DeleteComputeEnvironment</code>.
    """

    computeEnvironment: String


class DeleteJobQueueRequest(BaseModel):
    """
    Contains the parameters for <code>DeleteJobQueue</code>.
    """

    jobQueue: String


class DeregisterJobDefinitionRequest(BaseModel):
    jobDefinition: String


class DeviceCgroupPermission(Enum):
    READ = 'READ'
    WRITE = 'WRITE'
    MKNOD = 'MKNOD'


class EFSAuthorizationConfig(BaseModel):
    """
    The authorization configuration details for the Amazon EFS file system.
    """

    accessPointId: Optional[String] = None
    iam: Optional[AssignPublicIp] = None


class EFSVolumeConfiguration(BaseModel):
    """
    This is used when you're using an Amazon Elastic File System file system for job storage. For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/efs-volumes.html">Amazon EFS Volumes</a> in the <i>Batch User Guide</i>.
    """

    fileSystemId: String
    rootDirectory: Optional[String] = None
    transitEncryption: Optional[AssignPublicIp] = None
    transitEncryptionPort: Optional[Integer] = None
    authorizationConfig: Optional[EFSAuthorizationConfig] = None


class ImageType(BaseModel):
    __root__: Annotated[str, Field(max_length=256, min_length=1)]


class ImageIdOverride(ImageType):
    pass


class Ec2Configuration(BaseModel):
    """
    <p>Provides information used to select Amazon Machine Images (AMIs) for instances in the compute environment. If <code>Ec2Configuration</code> isn't specified, the default is currently <code>ECS_AL1</code> (<a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-optimized_AMI.html#alami">Amazon Linux</a>) for non-GPU, non AWSGraviton instances. Starting on March 31, 2021, this default will be changing to <code>ECS_AL2</code> (<a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-optimized_AMI.html#al2ami">Amazon Linux 2</a>).</p> <note> <p>This object isn't applicable to jobs that are running on Fargate resources.</p> </note>
    """

    imageType: ImageType
    imageIdOverride: Optional[ImageIdOverride] = None


class KeyValuePair(BaseModel):
    """
    A key-value pair object.
    """

    name: Optional[String] = None
    value: Optional[String] = None


class RetryAction(Enum):
    RETRY = 'RETRY'
    EXIT = 'EXIT'


class EvaluateOnExit(BaseModel):
    """
    Specifies a set of conditions to be met, and an action to take (<code>RETRY</code> or <code>EXIT</code>) if all conditions are met.
    """

    onStatusReason: Optional[String] = None
    onReason: Optional[String] = None
    onExitCode: Optional[String] = None
    action: RetryAction


class Host(BaseModel):
    """
    Determine whether your data volume persists on the host container instance and where it is stored. If this parameter is empty, then the Docker daemon assigns a host path for your data volume, but the data isn't guaranteed to persist after the containers associated with it stop running.
    """

    sourcePath: Optional[String] = None


class ParametersMap(TagsMap):
    pass


class JobTimeout(BaseModel):
    """
    An object representing a job timeout configuration.
    """

    attemptDurationSeconds: Optional[Integer] = None


class PlatformCapabilityList(BaseModel):
    __root__: List[PlatformCapability]


class JobDefinitionType(Enum):
    container = 'container'
    multinode = 'multinode'


class JobStatus(Enum):
    SUBMITTED = 'SUBMITTED'
    PENDING = 'PENDING'
    RUNNABLE = 'RUNNABLE'
    STARTING = 'STARTING'
    RUNNING = 'RUNNING'
    SUCCEEDED = 'SUCCEEDED'
    FAILED = 'FAILED'


class NodeDetails(BaseModel):
    """
    An object representing the details of a multi-node parallel job node.
    """

    nodeIndex: Optional[Integer] = None
    isMainNode: Optional[Boolean] = None


class JobQueueDetail(BaseModel):
    """
    An object representing the details of an Batch job queue.
    """

    jobQueueName: String
    jobQueueArn: String
    state: AssignPublicIp
    status: Optional[CEStatus] = None
    statusReason: Optional[String] = None
    priority: Integer
    computeEnvironmentOrder: ComputeEnvironmentOrders
    tags: Optional[TagrisTagsMap] = None


class NodePropertiesSummary(BaseModel):
    """
    An object representing the properties of a node that's associated with a multi-node parallel job.
    """

    isMainNode: Optional[Boolean] = None
    numNodes: Optional[Integer] = None
    nodeIndex: Optional[Integer] = None


class JobSummary(BaseModel):
    """
    An object representing summary details of a job.
    """

    jobArn: Optional[String] = None
    jobId: String
    jobName: String
    createdAt: Optional[Long] = None
    status: Optional[JobStatus] = None
    statusReason: Optional[String] = None
    startedAt: Optional[Long] = None
    stoppedAt: Optional[Long] = None
    container: Optional[ContainerSummary] = None
    arrayProperties: Optional[ArrayPropertiesSummary] = None
    nodeProperties: Optional[NodePropertiesSummary] = None
    jobDefinition: Optional[String] = None


class JobSummaryList(BaseModel):
    __root__: List[JobSummary]


class ListTagsForResourceRequest(BaseModel):
    pass


class LogDriver(Enum):
    json_file = 'json-file'
    syslog = 'syslog'
    journald = 'journald'
    gelf = 'gelf'
    fluentd = 'fluentd'
    awslogs = 'awslogs'
    splunk = 'splunk'


class LogConfigurationOptionsMap(TagsMap):
    pass


class MountPoint(BaseModel):
    """
    Details on a Docker volume mount point that's used in a job's container properties. This parameter maps to <code>Volumes</code> in the <a href="https://docs.docker.com/engine/reference/api/docker_remote_api_v1.19/#create-a-container">Create a container</a> section of the Docker Remote API and the <code>--volume</code> option to docker run.
    """

    containerPath: Optional[String] = None
    readOnly: Optional[Boolean] = None
    sourceVolume: Optional[String] = None


class NetworkInterface(BaseModel):
    """
    An object representing the elastic network interface for a multi-node parallel job node.
    """

    attachmentId: Optional[String] = None
    ipv6Address: Optional[String] = None
    privateIpv4Address: Optional[String] = None


class ResourceType(Enum):
    GPU = 'GPU'
    VCPU = 'VCPU'
    MEMORY = 'MEMORY'


class ResourceRequirement(BaseModel):
    """
    The type and amount of a resource to assign to a container. The supported resources include <code>GPU</code>, <code>MEMORY</code>, and <code>VCPU</code>.
    """

    value: String
    type: ResourceType


class Secret(BaseModel):
    """
    <p>An object representing the secret to expose to your container. Secrets can be exposed to a container in the following ways:</p> <ul> <li> <p>To inject sensitive data into your containers as environment variables, use the <code>secrets</code> container definition parameter.</p> </li> <li> <p>To reference sensitive information in the log configuration of a container, use the <code>secretOptions</code> container definition parameter.</p> </li> </ul> <p>For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/specifying-sensitive-data.html">Specifying sensitive data</a> in the <i>Batch User Guide</i>.</p>
    """

    name: String
    valueFrom: String


class TagKeysList(BaseModel):
    __root__: Annotated[List[TagKey], Field(max_items=50, min_items=1)]


class TagResourceRequest(BaseModel):
    tags: TagrisTagsMap


class TerminateJobRequest(BaseModel):
    """
    Contains the parameters for <code>TerminateJob</code>.
    """

    jobId: String
    reason: String


class Ulimit(BaseModel):
    """
    <p>The <code>ulimit</code> settings to pass to the container.</p> <note> <p>This object isn't applicable to jobs that are running on Fargate resources.</p> </note>
    """

    hardLimit: Integer
    name: String
    softLimit: Integer


class UntagResourceRequest(BaseModel):
    pass


class UpdateJobQueueRequest(BaseModel):
    """
    Contains the parameters for <code>UpdateJobQueue</code>.
    """

    jobQueue: String
    state: Optional[AssignPublicIp] = None
    priority: Optional[Integer] = None
    computeEnvironmentOrder: Optional[ComputeEnvironmentOrders] = None


class Volume(BaseModel):
    """
    A data volume used in a job's container properties.
    """

    host: Optional[Host] = None
    name: Optional[String] = None
    efsVolumeConfiguration: Optional[EFSVolumeConfiguration] = None


class CreateComputeEnvironmentResponse(UpdateComputeEnvironmentResponse):
    pass


class StringList(BaseModel):
    __root__: List[String]


class Ec2ConfigurationList(BaseModel):
    __root__: List[Ec2Configuration]


class ListJobsResponse(BaseModel):
    jobSummaryList: JobSummaryList
    nextToken: Optional[String] = None


class KeyValuesPair(BaseModel):
    """
    A filter name and value pair that's used to return a more specific list of results from a <code>ListJobs</code> API operation.
    """

    name: Optional[String] = None
    values: Optional[StringList] = None


class ListTagsForResourceResponse(BaseModel):
    tags: Optional[TagrisTagsMap] = None


class Volumes(BaseModel):
    __root__: List[Volume]


class EnvironmentVariables(BaseModel):
    __root__: List[KeyValuePair]


class MountPoints(BaseModel):
    __root__: List[MountPoint]


class Ulimits(BaseModel):
    __root__: List[Ulimit]


class ResourceRequirements(BaseModel):
    __root__: List[ResourceRequirement]


class SecretList(BaseModel):
    __root__: List[Secret]


class NetworkConfiguration(BaseModel):
    """
    The network configuration for jobs that are running on Fargate resources. Jobs that are running on EC2 resources must not specify this parameter.
    """

    assignPublicIp: Optional[AssignPublicIp] = None


class EvaluateOnExitList(BaseModel):
    __root__: List[EvaluateOnExit]


class JobDependency(BaseModel):
    """
    An object representing an Batch job dependency.
    """

    jobId: Optional[String] = None
    type: Optional[ArrayJobDependency] = None


class NetworkInterfaceList(BaseModel):
    __root__: List[NetworkInterface]


class AttemptContainerDetail(BaseModel):
    """
    An object representing the details of a container that's part of a job attempt.
    """

    containerInstanceArn: Optional[String] = None
    taskArn: Optional[String] = None
    exitCode: Optional[Integer] = None
    reason: Optional[String] = None
    logStreamName: Optional[String] = None
    networkInterfaces: Optional[NetworkInterfaceList] = None


class AttemptDetail(BaseModel):
    """
    An object representing a job attempt.
    """

    container: Optional[AttemptContainerDetail] = None
    startedAt: Optional[Long] = None
    stoppedAt: Optional[Long] = None
    statusReason: Optional[String] = None


class AttemptDetails(BaseModel):
    __root__: List[AttemptDetail]


class ComputeResource(BaseModel):
    """
    An object representing an Batch compute resource. For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/compute_environments.html">Compute Environments</a> in the <i>Batch User Guide</i>.
    """

    type: CRType
    allocationStrategy: Optional[CRAllocationStrategy] = None
    minvCpus: Optional[Integer] = None
    maxvCpus: Integer
    desiredvCpus: Optional[Integer] = None
    instanceTypes: Optional[StringList] = None
    imageId: Optional[String] = None
    subnets: StringList
    securityGroupIds: Optional[StringList] = None
    ec2KeyPair: Optional[String] = None
    instanceRole: Optional[String] = None
    tags: Optional[TagsMap] = None
    placementGroup: Optional[String] = None
    bidPercentage: Optional[Integer] = None
    spotIamFleetRole: Optional[String] = None
    launchTemplate: Optional[LaunchTemplateSpecification] = None
    ec2Configuration: Optional[Ec2ConfigurationList] = None


class ComputeEnvironmentDetail(BaseModel):
    """
    An object representing an Batch compute environment.
    """

    computeEnvironmentName: String
    computeEnvironmentArn: String
    ecsClusterArn: String
    tags: Optional[TagrisTagsMap] = None
    type: Optional[CEType] = None
    state: Optional[AssignPublicIp] = None
    status: Optional[CEStatus] = None
    statusReason: Optional[String] = None
    computeResources: Optional[ComputeResource] = None
    serviceRole: Optional[String] = None


class ComputeEnvironmentDetailList(BaseModel):
    __root__: List[ComputeEnvironmentDetail]


class ComputeResourceUpdate(BaseModel):
    """
    An object representing the attributes of a compute environment that can be updated. For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/compute_environments.html">Compute Environments</a> in the <i>Batch User Guide</i>.
    """

    minvCpus: Optional[Integer] = None
    maxvCpus: Optional[Integer] = None
    desiredvCpus: Optional[Integer] = None
    subnets: Optional[StringList] = None
    securityGroupIds: Optional[StringList] = None


class ContainerOverrides(BaseModel):
    """
    The overrides that should be sent to a container.
    """

    vcpus: Optional[Integer] = None
    memory: Optional[Integer] = None
    command: Optional[StringList] = None
    instanceType: Optional[String] = None
    environment: Optional[EnvironmentVariables] = None
    resourceRequirements: Optional[ResourceRequirements] = None


class CreateComputeEnvironmentRequest(BaseModel):
    """
    Contains the parameters for <code>CreateComputeEnvironment</code>.
    """

    computeEnvironmentName: String
    type: CEType
    state: Optional[AssignPublicIp] = None
    computeResources: Optional[ComputeResource] = None
    serviceRole: Optional[String] = None
    tags: Optional[TagrisTagsMap] = None


class DescribeComputeEnvironmentsRequest(BaseModel):
    """
    Contains the parameters for <code>DescribeComputeEnvironments</code>.
    """

    computeEnvironments: Optional[StringList] = None
    maxResults: Optional[Integer] = None
    nextToken: Optional[String] = None


class DescribeJobDefinitionsRequest(BaseModel):
    """
    Contains the parameters for <code>DescribeJobDefinitions</code>.
    """

    jobDefinitions: Optional[StringList] = None
    maxResults: Optional[Integer] = None
    jobDefinitionName: Optional[String] = None
    status: Optional[String] = None
    nextToken: Optional[String] = None


class DescribeJobQueuesRequest(BaseModel):
    """
    Contains the parameters for <code>DescribeJobQueues</code>.
    """

    jobQueues: Optional[StringList] = None
    maxResults: Optional[Integer] = None
    nextToken: Optional[String] = None


class JobQueueDetailList(BaseModel):
    __root__: List[JobQueueDetail]


class DescribeJobsRequest(BaseModel):
    """
    Contains the parameters for <code>DescribeJobs</code>.
    """

    jobs: StringList


class DeviceCgroupPermissions(BaseModel):
    __root__: List[DeviceCgroupPermission]


class Device(BaseModel):
    """
    <p>An object representing a container instance host device.</p> <note> <p>This object isn't applicable to jobs that are running on Fargate resources and shouldn't be provided.</p> </note>
    """

    hostPath: String
    containerPath: Optional[String] = None
    permissions: Optional[DeviceCgroupPermissions] = None


class DevicesList(BaseModel):
    __root__: List[Device]


class RetryStrategy(BaseModel):
    """
    The retry strategy associated with a job. For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/job_retries.html">Automated job retries</a> in the <i>Batch User Guide</i>.
    """

    attempts: Optional[Integer] = None
    evaluateOnExit: Optional[EvaluateOnExitList] = None


class JobDependencyList(BaseModel):
    __root__: List[JobDependency]


class ListJobsFilterList(BaseModel):
    __root__: List[KeyValuesPair]


class ListJobsRequest(BaseModel):
    """
    Contains the parameters for <code>ListJobs</code>.
    """

    jobQueue: Optional[String] = None
    arrayJobId: Optional[String] = None
    multiNodeJobId: Optional[String] = None
    jobStatus: Optional[JobStatus] = None
    maxResults: Optional[Integer] = None
    nextToken: Optional[String] = None
    filters: Optional[ListJobsFilterList] = None


class NodePropertyOverride(BaseModel):
    """
    Object representing any node overrides to a job definition that's used in a <a>SubmitJob</a> API operation.
    """

    targetNodes: String
    containerOverrides: Optional[ContainerOverrides] = None


class Tmpfs(BaseModel):
    """
    <p>The container path, mount options, and size of the tmpfs mount.</p> <note> <p>This object isn't applicable to jobs that are running on Fargate resources.</p> </note>
    """

    containerPath: String
    size: Integer
    mountOptions: Optional[StringList] = None


class UpdateComputeEnvironmentRequest(BaseModel):
    """
    Contains the parameters for <code>UpdateComputeEnvironment</code>.
    """

    computeEnvironment: String
    state: Optional[AssignPublicIp] = None
    computeResources: Optional[ComputeResourceUpdate] = None
    serviceRole: Optional[String] = None


class DescribeComputeEnvironmentsResponse(BaseModel):
    computeEnvironments: Optional[ComputeEnvironmentDetailList] = None
    nextToken: Optional[String] = None


class DescribeJobQueuesResponse(BaseModel):
    jobQueues: Optional[JobQueueDetailList] = None
    nextToken: Optional[String] = None


class LogConfiguration(BaseModel):
    """
    Log configuration options to send to a custom log driver for the container.
    """

    logDriver: LogDriver
    options: Optional[LogConfigurationOptionsMap] = None
    secretOptions: Optional[SecretList] = None


class NodePropertyOverrides(BaseModel):
    __root__: List[NodePropertyOverride]


class TmpfsList(BaseModel):
    __root__: List[Tmpfs]


class NodeOverrides(BaseModel):
    """
    <p>Object representing any node overrides to a job definition that's used in a <a>SubmitJob</a> API operation.</p> <note> <p>This isn't applicable to jobs that are running on Fargate resources and shouldn't be provided; use <code>containerOverrides</code> instead.</p> </note>
    """

    numNodes: Optional[Integer] = None
    nodePropertyOverrides: Optional[NodePropertyOverrides] = None


class SubmitJobRequest(BaseModel):
    """
    Contains the parameters for <code>SubmitJob</code>.
    """

    jobName: String
    jobQueue: String
    arrayProperties: Optional[ArrayProperties] = None
    dependsOn: Optional[JobDependencyList] = None
    jobDefinition: String
    parameters: Optional[ParametersMap] = None
    containerOverrides: Optional[ContainerOverrides] = None
    nodeOverrides: Optional[NodeOverrides] = None
    retryStrategy: Optional[RetryStrategy] = None
    propagateTags: Optional[Boolean] = None
    timeout: Optional[JobTimeout] = None
    tags: Optional[TagrisTagsMap] = None


class LinuxParameters(BaseModel):
    """
    Linux-specific modifications that are applied to the container, such as details for device mappings.
    """

    devices: Optional[DevicesList] = None
    initProcessEnabled: Optional[Boolean] = None
    sharedMemorySize: Optional[Integer] = None
    tmpfs: Optional[TmpfsList] = None
    maxSwap: Optional[Integer] = None
    swappiness: Optional[Integer] = None


class ContainerDetail(BaseModel):
    """
    An object representing the details of a container that's part of a job.
    """

    image: Optional[String] = None
    vcpus: Optional[Integer] = None
    memory: Optional[Integer] = None
    command: Optional[StringList] = None
    jobRoleArn: Optional[String] = None
    executionRoleArn: Optional[String] = None
    volumes: Optional[Volumes] = None
    environment: Optional[EnvironmentVariables] = None
    mountPoints: Optional[MountPoints] = None
    readonlyRootFilesystem: Optional[Boolean] = None
    ulimits: Optional[Ulimits] = None
    privileged: Optional[Boolean] = None
    user: Optional[String] = None
    exitCode: Optional[Integer] = None
    reason: Optional[String] = None
    containerInstanceArn: Optional[String] = None
    taskArn: Optional[String] = None
    logStreamName: Optional[String] = None
    instanceType: Optional[String] = None
    networkInterfaces: Optional[NetworkInterfaceList] = None
    resourceRequirements: Optional[ResourceRequirements] = None
    linuxParameters: Optional[LinuxParameters] = None
    logConfiguration: Optional[LogConfiguration] = None
    secrets: Optional[SecretList] = None
    networkConfiguration: Optional[NetworkConfiguration] = None
    fargatePlatformConfiguration: Optional[FargatePlatformConfiguration] = None


class ContainerProperties(BaseModel):
    """
    Container properties are used in job definitions to describe the container that's launched as part of a job.
    """

    image: Optional[String] = None
    vcpus: Optional[Integer] = None
    memory: Optional[Integer] = None
    command: Optional[StringList] = None
    jobRoleArn: Optional[String] = None
    executionRoleArn: Optional[String] = None
    volumes: Optional[Volumes] = None
    environment: Optional[EnvironmentVariables] = None
    mountPoints: Optional[MountPoints] = None
    readonlyRootFilesystem: Optional[Boolean] = None
    privileged: Optional[Boolean] = None
    ulimits: Optional[Ulimits] = None
    user: Optional[String] = None
    instanceType: Optional[String] = None
    resourceRequirements: Optional[ResourceRequirements] = None
    linuxParameters: Optional[LinuxParameters] = None
    logConfiguration: Optional[LogConfiguration] = None
    secrets: Optional[SecretList] = None
    networkConfiguration: Optional[NetworkConfiguration] = None
    fargatePlatformConfiguration: Optional[FargatePlatformConfiguration] = None


class NodeRangeProperty(BaseModel):
    """
    An object representing the properties of the node range for a multi-node parallel job.
    """

    targetNodes: String
    container: Optional[ContainerProperties] = None


class NodeRangeProperties(BaseModel):
    __root__: List[NodeRangeProperty]


class NodeProperties(BaseModel):
    """
    An object representing the node properties of a multi-node parallel job.
    """

    numNodes: Integer
    mainNode: Integer
    nodeRangeProperties: NodeRangeProperties


class JobDefinition(BaseModel):
    """
    An object representing an Batch job definition.
    """

    jobDefinitionName: String
    jobDefinitionArn: String
    revision: Integer
    status: Optional[String] = None
    type: String
    parameters: Optional[ParametersMap] = None
    retryStrategy: Optional[RetryStrategy] = None
    containerProperties: Optional[ContainerProperties] = None
    timeout: Optional[JobTimeout] = None
    nodeProperties: Optional[NodeProperties] = None
    tags: Optional[TagrisTagsMap] = None
    propagateTags: Optional[Boolean] = None
    platformCapabilities: Optional[PlatformCapabilityList] = None


class JobDetail(BaseModel):
    """
    An object representing an Batch job.
    """

    jobArn: Optional[String] = None
    jobName: String
    jobId: String
    jobQueue: String
    status: JobStatus
    attempts: Optional[AttemptDetails] = None
    statusReason: Optional[String] = None
    createdAt: Optional[Long] = None
    retryStrategy: Optional[RetryStrategy] = None
    startedAt: Long
    stoppedAt: Optional[Long] = None
    dependsOn: Optional[JobDependencyList] = None
    jobDefinition: String
    parameters: Optional[ParametersMap] = None
    container: Optional[ContainerDetail] = None
    nodeDetails: Optional[NodeDetails] = None
    nodeProperties: Optional[NodeProperties] = None
    arrayProperties: Optional[ArrayPropertiesDetail] = None
    timeout: Optional[JobTimeout] = None
    tags: Optional[TagrisTagsMap] = None
    propagateTags: Optional[Boolean] = None
    platformCapabilities: Optional[PlatformCapabilityList] = None


class RegisterJobDefinitionRequest(BaseModel):
    """
    Contains the parameters for <code>RegisterJobDefinition</code>.
    """

    jobDefinitionName: String
    type: JobDefinitionType
    parameters: Optional[ParametersMap] = None
    containerProperties: Optional[ContainerProperties] = None
    nodeProperties: Optional[NodeProperties] = None
    retryStrategy: Optional[RetryStrategy] = None
    propagateTags: Optional[Boolean] = None
    timeout: Optional[JobTimeout] = None
    tags: Optional[TagrisTagsMap] = None
    platformCapabilities: Optional[PlatformCapabilityList] = None


class JobDefinitionList(BaseModel):
    __root__: List[JobDefinition]


class JobDetailList(BaseModel):
    __root__: List[JobDetail]


class DescribeJobDefinitionsResponse(BaseModel):
    jobDefinitions: Optional[JobDefinitionList] = None
    nextToken: Optional[String] = None


class DescribeJobsResponse(BaseModel):
    jobs: Optional[JobDetailList] = None
